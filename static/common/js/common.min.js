;
//#../static/frozen/js/lib/zeptojs/zepto.min.js
var Zepto=function(){function e(e){return null==e?String(e):J[K.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(t){return"object"==e(t)}function s(e){return i(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function o(e){return"number"==typeof e.length}function u(e){return O.call(e,function(e){return null!=e})}function a(e){return e.length>0?T.fn.concat.apply([],e):e}function f(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(e){return e in P?P[e]:P[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function c(e,t){return"number"!=typeof t||H[f(e)]?t:t+"px"}function h(e){var t,n;return D[e]||(t=_.createElement(e),_.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),D[e]=n),D[e]}function p(e){return"children"in e?M.call(e.children):T.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function d(e,t){var n,r=e?e.length:0;for(n=0;r>n;n++)this[n]=e[n];this.length=r,this.selector=t||""}function v(e,t,n){for(x in t)n&&(s(t[x])||Z(t[x]))?(s(t[x])&&!s(e[x])&&(e[x]={}),Z(t[x])&&!Z(e[x])&&(e[x]=[]),v(e[x],t[x],n)):t[x]!==S&&(e[x]=t[x])}function m(e,t){return null==t?T(e):T(e).filter(t)}function g(e,n,r,i){return t(n)?n.call(e,r,i):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function b(e,t){var n=e.className||"",r=n&&n.baseVal!==S;return t===S?r?n.baseVal:n:void (r?n.baseVal=t:e.className=t)}function w(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?T.parseJSON(e):e):e}catch(t){return e}}function E(e,t){t(e);for(var n=0,r=e.childNodes.length;r>n;n++)E(e.childNodes[n],t)}var S,x,T,N,C,k,L=[],A=L.concat,O=L.filter,M=L.slice,_=window.document,D={},P={},H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},B=/^\s*<(\w+|!)[^>]*>/,j=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,F=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,I=/^(?:body|html)$/i,q=/([A-Z])/g,R=["val","css","html","text","data","width","height","offset"],U=["after","prepend","before","append"],z=_.createElement("table"),W=_.createElement("tr"),X={tr:_.createElement("tbody"),tbody:z,thead:z,tfoot:z,td:W,th:W,"*":_.createElement("div")},V=/complete|loaded|interactive/,$=/^[\w-]*$/,J={},K=J.toString,Q={},G=_.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(e){return e instanceof Array};return Q.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,s=!i;return s&&(i=G).appendChild(e),r=~Q.qsa(i,t).indexOf(e),s&&G.removeChild(e),r},C=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},k=function(e){return O.call(e,function(t,n){return e.indexOf(t)==n})},Q.fragment=function(e,t,n){var r,i,o;return j.test(e)&&(r=T(_.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(F,"<$1></$2>")),t===S&&(t=B.test(e)&&RegExp.$1),t in X||(t="*"),o=X[t],o.innerHTML=""+e,r=T.each(M.call(o.childNodes),function(){o.removeChild(this)})),s(n)&&(i=T(r),T.each(n,function(e,t){R.indexOf(e)>-1?i[e](t):i.attr(e,t)})),r},Q.Z=function(e,t){return new d(e,t)},Q.isZ=function(e){return e instanceof Q.Z},Q.init=function(e,n){var r;if(!e)return Q.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&B.test(e))r=Q.fragment(e,RegExp.$1,n),e=null;else{if(n!==S)return T(n).find(e);r=Q.qsa(_,e)}else{if(t(e))return T(_).ready(e);if(Q.isZ(e))return e;if(Z(e))r=u(e);else if(i(e))r=[e],e=null;else if(B.test(e))r=Q.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==S)return T(n).find(e);r=Q.qsa(_,e)}}return Q.Z(r,e)},T=function(e,t){return Q.init(e,t)},T.extend=function(e){var t,n=M.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){v(e,n,t)}),e},Q.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],s=r||i?t.slice(1):t,o=$.test(s);return e.getElementById&&o&&r?(n=e.getElementById(s))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:M.call(o&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))},T.contains=_.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},T.type=e,T.isFunction=t,T.isWindow=n,T.isArray=Z,T.isPlainObject=s,T.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},T.inArray=function(e,t,n){return L.indexOf.call(t,e,n)},T.camelCase=C,T.trim=function(e){return null==e?"":String.prototype.trim.call(e)},T.uuid=0,T.support={},T.expr={},T.noop=function(){},T.map=function(e,t){var n,r,i,s=[];if(o(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&s.push(n);else for(i in e)n=t(e[i],i),null!=n&&s.push(n);return a(s)},T.each=function(e,t){var n,r;if(o(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},T.grep=function(e,t){return O.call(e,t)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()}),T.fn={constructor:Q.Z,length:0,forEach:L.forEach,reduce:L.reduce,push:L.push,sort:L.sort,splice:L.splice,indexOf:L.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=Q.isZ(t)?t.toArray():t;return A.apply(Q.isZ(this)?this.toArray():this,n)},map:function(e){return T(T.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return T(M.apply(this,arguments))},ready:function(e){return V.test(_.readyState)&&_.body?e(T):_.addEventListener("DOMContentLoaded",function(){e(T)},!1),this},get:function(e){return e===S?M.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return L.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):T(O.call(this,function(t){return Q.matches(t,e)}))},add:function(e,t){return T(k(this.concat(T(e,t))))},is:function(e){return this.length>0&&Q.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==S)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):o(e)&&t(e.item)?M.call(e):T(e);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return T(n)},has:function(e){return this.filter(function(){return i(e)?T.contains(this,e):T(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:T(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:T(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?T(e).filter(function(){var e=this;return L.some.call(n,function(t){return T.contains(t,e)})}):1==this.length?T(Q.qsa(this[0],e)):this.map(function(){return Q.qsa(this,e)}):T()},closest:function(e,t){var n=this[0],i=!1;for("object"==typeof e&&(i=T(e));n&&!(i?i.indexOf(n)>=0:Q.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return T(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=T.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return m(t,e)},parent:function(e){return m(k(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||M.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return O.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return T.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=T(e).get(0),i=r.parentNode||this.length>1;return this.each(function(t){T(this).wrapAll(n?e.call(this,t):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){T(this[0]).before(e=T(e));for(var t;(t=e.children()).length;)e=t.first();T(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=T(this),i=r.contents(),s=n?e.call(this,t):e;i.length?i.wrapAll(s):r.append(s)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=T(this);(e===S?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return T(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return T(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;T(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(e))for(x in e)y(this,x,e[x]);else y(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:S},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function(e,t){return e=Y[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(q,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?w(r):S},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=T(this),r=g(this,e,t,n.offset()),i=n.offsetParent().offset(),s={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)});if(!this.length)return null;if(!T.contains(_.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r,i=this[0];if(!i)return;if(r=getComputedStyle(i,""),"string"==typeof t)return i.style[C(t)]||r.getPropertyValue(t);if(Z(t)){var s={};return T.each(t,function(e,t){s[t]=i.style[C(t)]||r.getPropertyValue(t)}),s}}var o="";if("string"==e(t))n||0===n?o=f(t)+":"+c(t,n):this.each(function(){this.style.removeProperty(f(t))});else for(x in t)t[x]||0===t[x]?o+=f(x)+":"+c(x,t[x])+";":this.each(function(){this.style.removeProperty(f(x))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(T(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?L.some.call(this,function(e){return this.test(b(e))},l(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){N=[];var n=b(this),r=g(this,e,t,n);r.split(/\s+/g).forEach(function(e){T(this).hasClass(e)||N.push(e)},this),N.length&&b(this,n+(n?" ":"")+N.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===S)return b(this,"");N=b(this),g(this,e,t,N).split(/\s+/g).forEach(function(e){N=N.replace(l(e)," ")}),b(this,N.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var r=T(this),i=g(this,e,n,b(this));i.split(/\s+/g).forEach(function(e){(t===S?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===S?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===S?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=I.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(T(e).css("margin-top"))||0,n.left-=parseFloat(T(e).css("margin-left"))||0,r.top+=parseFloat(T(t[0]).css("border-top-width"))||0,r.left+=parseFloat(T(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||_.body;e&&!I.test(e.nodeName)&&"static"==T(e).css("position");)e=e.offsetParent;return e})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});T.fn[e]=function(i){var s,o=this[0];return i===S?n(o)?o["inner"+t]:r(o)?o.documentElement["scroll"+t]:(s=this.offset())&&s[e]:this.each(function(t){o=T(this),o.css(e,g(this,i,t,o[e]()))})}}),U.forEach(function(t,n){var r=n%2;T.fn[t]=function(){var t,i,s=T.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:Q.fragment(n)}),o=this.length>1;return s.length<1?this:this.each(function(e,t){i=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var u=T.contains(_.documentElement,i);s.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!i)return T(e).remove();i.insertBefore(e,t),u&&E(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},T.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return T(e)[t](this),this}}),Q.Z.prototype=d.prototype=T.fn,Q.uniq=k,Q.deserializeValue=w,T.zepto=Q,T}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),!function(e){function t(e,t,n,r){return Math.abs(e-t)>=Math.abs(n-r)?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function n(){l=null,h.last&&(h.el.trigger("longTap"),h={})}function r(){l&&clearTimeout(l),l=null}function i(){u&&clearTimeout(u),a&&clearTimeout(a),f&&clearTimeout(f),l&&clearTimeout(l),u=a=f=l=null,h={}}function s(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function o(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}var u,a,f,l,c,h={},p=750;e(document).ready(function(){var v,y,w,E,S=0,x=0;"MSGesture"in window&&(c=new MSGesture,c.target=document.body),e(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(h.el.trigger("swipe"),h.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(t){(!(E=o(t,"down"))||s(t))&&(w=E?t:t.touches[0],t.touches&&1===t.touches.length&&h.x2&&(h.x2=void 0,h.y2=void 0),v=Date.now(),y=v-(h.last||v),h.el=e("tagName"in w.target?w.target:w.target.parentNode),u&&clearTimeout(u),h.x1=w.pageX,h.y1=w.pageY,y>0&&250>=y&&(h.isDoubleTap=!0),h.last=v,l=setTimeout(n,p),c&&E&&c.addPointer(t.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(!(E=o(e,"move"))||s(e))&&(w=E?e:e.touches[0],r(),h.x2=w.pageX,h.y2=w.pageY,S+=Math.abs(h.x1-h.x2),x+=Math.abs(h.y1-h.y2))}).on("touchend MSPointerUp pointerup",function(n){(!(E=o(n,"up"))||s(n))&&(r(),h.x2&&Math.abs(h.x1-h.x2)>30||h.y2&&Math.abs(h.y1-h.y2)>30?f=setTimeout(function(){h.el.trigger("swipe"),h.el.trigger("swipe"+t(h.x1,h.x2,h.y1,h.y2)),h={}},0):"last"in h&&(30>S&&30>x?a=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=i,h.el.trigger(t),h.isDoubleTap?(h.el&&h.el.trigger("doubleTap"),h={}):u=setTimeout(function(){u=null,h.el&&h.el.trigger("singleTap"),h={}},250)},0):h={}),S=x=0)}).on("touchcancel MSPointerCancel pointercancel",i),e(window).on("scroll",i)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})}(Zepto),!function(e){e.fn.serializeArray=function(){var t,n,r=[],i=function(e){return e.forEach?e.forEach(i):void r.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(r,s){n=s.type,t=s.name,t&&"fieldset"!=s.nodeName.toLowerCase()&&!s.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||s.checked)&&i(e(s).val())}),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),!function(e){function t(e,t){var n=this.os={},r=this.browser={},i=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),s=e.match(/(Android);?[\s\/]+([\d.]+)?/),o=!!e.match(/\(Macintosh\; Intel /),u=e.match(/(iPad).*OS\s([\d_]+)/),a=e.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&e.match(/(iPhone\sOS)\s([\d_]+)/),l=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=/Win\d{2}|Windows/.test(t),h=e.match(/Windows Phone ([\d.]+)/),p=l&&e.match(/TouchPad/),d=e.match(/Kindle\/([\d.]+)/),v=e.match(/Silk\/([\d._]+)/),m=e.match(/(BlackBerry).*Version\/([\d.]+)/),g=e.match(/(BB10).*Version\/([\d.]+)/),y=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=e.match(/PlayBook/),w=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),E=e.match(/Firefox\/([\d.]+)/),S=e.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),x=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),T=!w&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),N=T||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(r.webkit=!!i)&&(r.version=i[1]),s&&(n.android=!0,n.version=s[2]),f&&!a&&(n.ios=n.iphone=!0,n.version=f[2].replace(/_/g,".")),u&&(n.ios=n.ipad=!0,n.version=u[2].replace(/_/g,".")),a&&(n.ios=n.ipod=!0,n.version=a[3]?a[3].replace(/_/g,"."):null),h&&(n.wp=!0,n.version=h[1]),l&&(n.webos=!0,n.version=l[2]),p&&(n.touchpad=!0),m&&(n.blackberry=!0,n.version=m[2]),g&&(n.bb10=!0,n.version=g[2]),y&&(n.rimtabletos=!0,n.version=y[2]),b&&(r.playbook=!0),d&&(n.kindle=!0,n.version=d[1]),v&&(r.silk=!0,r.version=v[1]),!v&&n.android&&e.match(/Kindle Fire/)&&(r.silk=!0),w&&(r.chrome=!0,r.version=w[1]),E&&(r.firefox=!0,r.version=E[1]),S&&(n.firefoxos=!0,n.version=S[1]),x&&(r.ie=!0,r.version=x[1]),N&&(o||n.ios||c)&&(r.safari=!0,n.ios||(r.version=N[1])),T&&(r.webview=!0),n.tablet=!!(u||b||s&&!e.match(/Mobile/)||E&&e.match(/Tablet/)||x&&!e.match(/Phone/)&&e.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(s||f||l||m||g||w&&e.match(/Android/)||w&&e.match(/CriOS\/([\d.]+)/)||E&&e.match(/Mobile/)||x&&e.match(/Touch/)))}t.call(e,navigator.userAgent,navigator.platform),e.__detect=t}(Zepto),!function(e){function t(e){return e._zid||(e._zid=h++)}function n(e,n,s,o){if(n=r(n),n.ns)var u=i(n.ns);return(m[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!u.test(e.ns)||s&&t(e.fn)!==t(s)||o&&e.sel!=o)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function s(e,t){return e.del&&!y&&e.e in b||!!t}function o(e){return w[e]||y&&b[e]||e}function u(n,i,u,a,l,h,p){var d=t(n),v=m[d]||(m[d]=[]);i.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(u);var i=r(t);i.fn=u,i.sel=l,i.e in w&&(u=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=h;var d=h||u;i.proxy=function(e){if(e=f(e),!e.isImmediatePropagationStopped()){e.data=a;var t=d.apply(n,e._args==c?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},i.i=v.length,v.push(i),"addEventListener"in n&&n.addEventListener(o(i.e),i.proxy,s(i,p))})}function a(e,r,i,u,a){var f=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,i,u).forEach(function(t){delete m[f][t.i],"removeEventListener"in e&&e.removeEventListener(o(t.e),t.proxy,s(t,a))})})}function f(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(T,function(e,r){var i=n[e];t[e]=function(){return this[r]=E,i&&i.apply(n,arguments)},t[r]=S}),(n.defaultPrevented!==c?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=E)),t}function l(e){var t,n={originalEvent:e};for(t in e)x.test(t)||e[t]===c||(n[t]=e[t]);return f(n,e)}var c,h=1,p=Array.prototype.slice,d=e.isFunction,v=function(e){return"string"==typeof e},m={},g={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",e.event={add:u,remove:a},e.proxy=function(n,r){var i=2 in arguments&&p.call(arguments,2);if(d(n)){var s=function(){return n.apply(r,i?i.concat(p.call(arguments)):arguments)};return s._zid=t(n),s}if(v(r))return i?(i.unshift(n[r],n),e.proxy.apply(null,i)):e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var E=function(){return!0},S=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,i,s){var o,f,h=this;return t&&!v(t)?(e.each(t,function(e,t){h.on(e,n,r,t,s)}),h):(v(n)||d(i)||i===!1||(i=r,r=n,n=c),(i===c||r===!1)&&(i=r,r=c),i===!1&&(i=S),h.each(function(c,h){s&&(o=function(e){return a(h,e.type,i),i.apply(this,arguments)}),n&&(f=function(t){var r,s=e(t.target).closest(n,h).get(0);return s&&s!==h?(r=e.extend(l(t),{currentTarget:s,liveFired:h}),(o||i).apply(s,[r].concat(p.call(arguments,1)))):void 0}),u(h,t,i,r,n,f||o)}))},e.fn.off=function(t,n,r){var i=this;return t&&!v(t)?(e.each(t,function(e,t){i.off(e,n,t)}),i):(v(n)||d(r)||r===!1||(r=n,n=c),r===!1&&(r=S),i.each(function(){a(this,t,r,n)}))},e.fn.trigger=function(t,n){return t=v(t)||e.isPlainObject(t)?e.Event(t):f(t),t._args=n,this.each(function(){t.type in b&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var i,s;return this.each(function(o,u){i=l(v(t)?e.Event(t):t),i._args=r,i.target=u,e.each(n(u,t.type||t),function(e,t){return s=t.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),s},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){v(e)||(t=e,e=t.type);var n=document.createEvent(g[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),f(n)}}(Zepto),!function(a){function b(e,t,n){var r=a.Event(t);return a(e).trigger(r,n),!r.isDefaultPrevented()}function c(e,t,n,r){return e.global?b(t||s,n,r):void 0}function d(e){e.global&&0===a.active++&&c(e,null,"ajaxStart")}function e(e){e.global&&!--a.active&&c(e,null,"ajaxStop")}function f(e,t){var n=t.context;return t.beforeSend.call(n,e,t)===!1||c(t,n,"ajaxBeforeSend",[e,t])===!1?!1:void c(t,n,"ajaxSend",[e,t])}function g(e,t,n,r){var s=n.context,o="success";n.success.call(s,e,o,t),r&&r.resolveWith(s,[e,o,t]),c(n,s,"ajaxSuccess",[t,n,e]),i(o,t,n)}function h(e,t,n,r,s){var o=r.context;r.error.call(o,n,t,e),s&&s.rejectWith(o,[n,t,e]),c(r,o,"ajaxError",[n,r,e||t]),i(t,n,r)}function i(t,n,r){var i=r.context;r.complete.call(i,n,t),c(r,i,"ajaxComplete",[n,r]),e(r)}function j(){}function k(e){return e&&(e=e.split(";",2)[0]),e&&(e==x?"html":e==w?"json":u.test(e)?"script":v.test(e)&&"xml")||"text"}function l(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function m(e){e.processData&&e.data&&"string"!=a.type(e.data)&&(e.data=a.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=l(e.url,e.data),e.data=void 0)}function n(e,t,n,r){return a.isFunction(t)&&(r=n,n=t,t=void 0),a.isFunction(n)||(r=n,n=void 0),{url:e,data:t,success:n,dataType:r}}function o(e,t,n,r){var i,s=a.isArray(t),u=a.isPlainObject(t);a.each(t,function(t,l){i=a.type(l),r&&(t=n?r:r+"["+(u||"object"==i||"array"==i?t:"")+"]"),!r&&s?e.add(l.name,l.value):"array"==i||!n&&"object"==i?o(e,l,n,t):e.add(t,l)})}var p,q,r=0,s=window.document,t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,w="application/json",x="text/html",y=/^\s*$/,z=s.createElement("a");z.href=window.location.href,a.active=0,a.ajaxJSONP=function(e,t){if("type"in e){var n,i,o=e.jsonpCallback,u=(a.isFunction(o)?o():o)||"jsonp"+ ++r,l=s.createElement("script"),c=window[u],p=function(e){a(l).triggerHandler("error",e||"abort")},d={abort:p};return t&&t.promise(d),a(l).on("load error",function(r,s){clearTimeout(i),a(l).off().remove(),"error"!=r.type&&n?g(n[0],d,e,t):h(null,s||"error",d,e,t),window[u]=c,n&&a.isFunction(c)&&c(n[0]),c=n=void 0}),f(d,e)===!1?(p("abort"),d):(window[u]=function(){n=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+u),s.head.appendChild(l),e.timeout>0&&(i=setTimeout(function(){p("timeout")},e.timeout)),d)}return a.ajax(e)},a.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:w,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(b){var c,e,i=a.extend({},b||{}),n=a.Deferred&&a.Deferred();for(p in a.ajaxSettings)void 0===i[p]&&(i[p]=a.ajaxSettings[p]);d(i),i.crossDomain||(c=s.createElement("a"),c.href=i.url,c.href=c.href,i.crossDomain=z.protocol+"//"+z.host!=c.protocol+"//"+c.host),i.url||(i.url=window.location.toString()),(e=i.url.indexOf("#"))>-1&&(i.url=i.url.slice(0,e)),m(i);var o=i.dataType,r=/\?.+=\?/.test(i.url);if(r&&(o="jsonp"),i.cache!==!1&&(b&&b.cache===!0||"script"!=o&&"jsonp"!=o)||(i.url=l(i.url,"_="+Date.now())),"jsonp"==o)return r||(i.url=l(i.url,i.jsonp?i.jsonp+"=?":i.jsonp===!1?"":"callback=?")),a.ajaxJSONP(i,n);var t,u=i.accepts[o],v={},w=function(e,t){v[e.toLowerCase()]=[e,t]},x=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,A=i.xhr(),B=A.setRequestHeader;if(n&&n.promise(A),i.crossDomain||w("X-Requested-With","XMLHttpRequest"),w("Accept",u||"*/*"),(u=i.mimeType||u)&&(u.indexOf(",")>-1&&(u=u.split(",",2)[0]),A.overrideMimeType&&A.overrideMimeType(u)),(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())&&w("Content-Type",i.contentType||"application/x-www-form-urlencoded"),i.headers)for(q in i.headers)w(q,i.headers[q]);if(A.setRequestHeader=w,A.onreadystatechange=function(){if(4==A.readyState){A.onreadystatechange=j,clearTimeout(t);var b,c=!1;if(A.status>=200&&A.status<300||304==A.status||0==A.status&&"file:"==x){o=o||k(i.mimeType||A.getResponseHeader("content-type")),b=A.responseText;try{"script"==o?(1,eval)(b):"xml"==o?b=A.responseXML:"json"==o&&(b=y.test(b)?null:a.parseJSON(b))}catch(d){c=d}c?h(c,"parsererror",A,i,n):g(b,A,i,n)}else h(A.statusText||null,A.status?"error":"abort",A,i,n)}},f(A,i)===!1)return A.abort(),h(null,"abort",A,i,n),A;if(i.xhrFields)for(q in i.xhrFields)A[q]=i.xhrFields[q];var C="async"in i?i.async:!0;A.open(i.type,i.url,C,i.username,i.password);for(q in v)B.apply(A,v[q]);return i.timeout>0&&(t=setTimeout(function(){A.onreadystatechange=j,A.abort(),h(null,"timeout",A,i,n)},i.timeout)),A.send(i.data?i.data:null),A},a.get=function(){return a.ajax(n.apply(null,arguments))},a.post=function(){var e=n.apply(null,arguments);return e.type="POST",a.ajax(e)},a.getJSON=function(){var e=n.apply(null,arguments);return e.dataType="json",a.ajax(e)},a.fn.load=function(e,r,i){if(!this.length)return this;var s,o=this,u=e.split(/\s/),f=n(e,r,i),l=f.success;return u.length>1&&(f.url=u[0],s=u[1]),f.success=function(e){o.html(s?a("<div>").html(e.replace(t,"")).find(s):e),l&&l.apply(o,arguments)},a.ajax(f),this};var A=encodeURIComponent;a.param=function(e,t){var n=[];return n.add=function(e,t){a.isFunction(t)&&(t=t()),null==t&&(t=""),this.push(A(e)+"="+A(t))},o(n,e,t),n.join("&").replace(/%20/g,"+")}}(Zepto),!function(e,t){function n(n,r,i,s,o){"function"!=typeof r||o||(o=r,r=t);var u={opacity:i};return s&&(u.scale=s,n.css(e.fx.cssPrefix+"transform-origin","0 0")),n.animate(u,r,null,o)}function r(t,r,i,s){return n(t,r,0,i,function(){o.call(e(this)),s&&s.call(this)})}var i=window.document,s=(i.documentElement,e.fn.show),o=e.fn.hide,u=e.fn.toggle;e.fn.show=function(e,r){return s.call(this),e===t?e=0:this.css("opacity",0),n(this,e,1,"1,1",r)},e.fn.hide=function(e,n){return e===t?o.call(this):r(this,e,"0,0",n)},e.fn.toggle=function(n,r){return n===t||"boolean"==typeof n?u.call(this,n):this.each(function(){var t=e(this);t["none"==t.css("display")?"show":"hide"](n,r)})},e.fn.fadeTo=function(e,t,r){return n(this,e,t,null,r)},e.fn.fadeIn=function(e,t){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,s.call(this).fadeTo(e,n,t)},e.fn.fadeOut=function(e,t){return r(this,e,null,t)},e.fn.fadeToggle=function(t,n){return this.each(function(){var r=e(this);r[0==r.css("opacity")||"none"==r.css("display")?"fadeIn":"fadeOut"](t,n)})}}(Zepto),!function(e){function t(t,r){var a=t[u],l=a&&i[a];if(void 0===r)return l||n(t);if(l){if(r in l)return l[r];var p=o(r);if(p in l)return l[p]}return s.call(e(t),r)}function n(t,n,s){var a=t[u]||(t[u]=++e.uuid),f=i[a]||(i[a]=r(t));return void 0!==n&&(f[o(n)]=s),f}function r(t){var n={};return e.each(t.attributes||a,function(t,r){0==r.name.indexOf("data-")&&(n[o(r.name.replace("data-",""))]=e.zepto.deserializeValue(r.value))}),n}var i={},s=e.fn.data,o=e.camelCase,u=e.expando="Zepto"+ +(new Date),a=[];e.fn.data=function(r,i){return void 0===i?e.isPlainObject(r)?this.each(function(t,i){e.each(r,function(e,t){n(i,e,t)})}):0 in this?t(this[0],r):void 0:this.each(function(){n(this,r,i)})},e.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var n=this[u],r=n&&i[n];r&&e.each(t||r,function(e){delete r[t?o(this):e]})})},["remove","empty"].forEach(function(t){var n=e.fn[t];e.fn[t]=function(){var e=this.find("*");return"remove"===t&&(e=e.add(this)),e.removeData(),n.call(this)}})}(Zepto),!function(e){function t(n){var r=[["resolve","done",e.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",e.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",e.Callbacks({memory:1})]],i="pending",s={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var n=arguments;return t(function(t){e.each(r,function(r,i){var u=e.isFunction(n[r])&&n[r];o[i[1]](function(){var n=u&&u.apply(this,arguments);if(n&&e.isFunction(n.promise))n.promise().done(t.resolve).fail(t.reject).progress(t.notify);else{var r=this===s?t.promise():this,o=u?[n]:arguments;t[i[0]+"With"](r,o)}})}),n=null}).promise()},promise:function(t){return null!=t?e.extend(t,s):s}},o={};return e.each(r,function(e,t){var n=t[2],u=t[3];s[t[1]]=n.add,u&&n.add(function(){i=u},r[1^e][2].disable,r[2][2].lock),o[t[0]]=function(){return o[t[0]+"With"](this===o?s:this,arguments),this},o[t[0]+"With"]=n.fireWith}),s.promise(o),n&&n.call(o,o),o}var n=Array.prototype.slice;e.when=function(r){var i,s,o,u=n.call(arguments),f=u.length,l=0,h=1!==f||r&&e.isFunction(r.promise)?f:0,p=1===h?r:t(),d=function(e,t,r){return function(s){t[e]=this,r[e]=arguments.length>1?n.call(arguments):s,r===i?p.notifyWith(t,r):--h||p.resolveWith(t,r)}};if(f>1)for(i=new Array(f),s=new Array(f),o=new Array(f);f>l;++l)u[l]&&e.isFunction(u[l].promise)?u[l].promise().done(d(l,o,u)).fail(p.reject).progress(d(l,s,i)):--h;return h||p.resolveWith(o,u),p.promise()},e.Deferred=t}(Zepto),!function(e){e.Callbacks=function(t){t=e.extend({},t);var n,r,i,s,o,u,f=[],l=!t.once&&[],c=function(e){for(n=t.memory&&e,r=!0,u=s||0,s=0,o=f.length,i=!0;f&&o>u;++u)if(f[u].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}i=!1,f&&(l?l.length&&c(l.shift()):n?f.length=0:h.disable())},h={add:function(){if(f){var r=f.length,u=function(n){e.each(n,function(e,n){"function"==typeof n?t.unique&&h.has(n)||f.push(n):n&&n.length&&"string"!=typeof n&&u(n)})};u(arguments),i?o=f.length:n&&(s=r,c(n))}return this},remove:function(){return f&&e.each(arguments,function(t,n){for(var r;(r=e.inArray(n,f,r))>-1;)f.splice(r,1),i&&(o>=r&&--o,u>=r&&--u)}),this},has:function(t){return!!f&&!!(t?e.inArray(t,f)>-1:f.length)},empty:function(){return o=f.length=0,this},disable:function(){return f=l=n=void 0,this},disabled:function(){return!f},lock:function(){return l=void 0,n||h.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!f||r&&!l||(t=t||[],t=[e,t.slice?t.slice():t],i?l.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments)},fired:function(){return!!r}};return h}}(Zepto),!function(e){function t(t){return t=e(t),(!!t.width()||!!t.height())&&"none"!==t.css("display")}function n(e,t){e=e.replace(/=#\]/g,'="#"]');var n,r,i=u.exec(e);if(i&&i[2]in o&&(n=o[i[2]],r=i[3],e=i[1],r)){var s=Number(r);r=isNaN(s)?r.replace(/^["']|["']$/g,""):s}return t(e,n,r)}var r=e.zepto,i=r.qsa,s=r.matches,o=e.expr[":"]={visible:function(){return t(this)?this:void 0},hidden:function(){return t(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(e){return 0===e?this:void 0},last:function(e,t){return e===t.length-1?this:void 0},eq:function(e,t,n){return e===n?this:void 0},contains:function(t,n,r){return e(this).text().indexOf(r)>-1?this:void 0},has:function(e,t,n){return r.qsa(this,n).length?this:void 0}},u=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),a=/^\s*>/,f="Zepto"+ +(new Date);r.qsa=function(t,s){return n(s,function(n,o,u){try{var l;!n&&o?n="*":a.test(n)&&(l=e(t).addClass(f),n="."+f+" "+n);var c=i(t,n)}catch(h){throw console.error("error performing selector: %o",s),h}finally{l&&l.removeClass(f)}return o?r.uniq(e.map(c,function(e,t){return o.call(e,t,c,u)})):c})},r.matches=function(e,t){return n(t,function(t,n,r){return!(t&&!s(e,t)||n&&n.call(e,null,r)!==e)})}}(Zepto),!function(e){function t(e){return"tagName"in e?e:e.parentNode}if(e.os.ios){var n,r={};e(document).bind("gesturestart",function(e){var i=Date.now();i-(r.last||i),r.target=t(e.target),n&&clearTimeout(n),r.e1=e.scale,r.last=i}).bind("gesturechange",function(e){r.e2=e.scale}).bind("gestureend",function(){r.e2>0?(0!=Math.abs(r.e1-r.e2)&&e(r.target).trigger("pinch")&&e(r.target).trigger("pinch"+(r.e1-r.e2>0?"In":"Out")),r.e1=r.e2=r.last=0):"last"in r&&(r={})}),["pinch","pinchIn","pinchOut"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}}(Zepto),!function(e,t){function n(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function r(e){return i?i+e:e.toLowerCase()}var i,s,o,u,a,f,l,c,h,p,d="",v={Webkit:"webkit",Moz:"",O:"o"},m=document.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};e.each(v,function(e,n){return m.style[e+"TransitionProperty"]!==t?(d="-"+e.toLowerCase()+"-",i=n,!1):void 0}),s=d+"transform",y[o=d+"transition-property"]=y[u=d+"transition-duration"]=y[f=d+"transition-delay"]=y[a=d+"transition-timing-function"]=y[l=d+"animation-name"]=y[c=d+"animation-duration"]=y[p=d+"animation-delay"]=y[h=d+"animation-timing-function"]="",e.fx={off:i===t&&m.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:d,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},e.fn.animate=function(n,r,i,s,o){return e.isFunction(r)&&(s=r,i=t,r=t),e.isFunction(i)&&(s=i,i=t),e.isPlainObject(r)&&(i=r.easing,s=r.complete,o=r.delay,r=r.duration),r&&(r=("number"==typeof r?r:e.fx.speeds[r]||e.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(n,r,i,s,o)},e.fn.anim=function(r,i,d,v,m){var w,E,S,x={},T="",N=this,C=e.fx.transitionEnd,L=!1;if(i===t&&(i=e.fx.speeds._default/1e3),m===t&&(m=0),e.fx.off&&(i=0),"string"==typeof r)x[l]=r,x[c]=i+"s",x[p]=m+"s",x[h]=d||"linear",C=e.fx.animationEnd;else{E=[];for(w in r)g.test(w)?T+=w+"("+r[w]+") ":(x[w]=r[w],E.push(n(w)));T&&(x[s]=T,E.push(s)),i>0&&"object"==typeof r&&(x[o]=E.join(", "),x[u]=i+"s",x[f]=m+"s",x[a]=d||"linear")}return S=function(t){if("undefined"!=typeof t){if(t.target!==t.currentTarget)return;e(t.target).unbind(C,S)}else e(this).unbind(C,S);L=!0,e(this).css(y),v&&v.call(this)},i>0&&(this.bind(C,S),setTimeout(function(){L||S.call(N)},1e3*(i+m)+25)),this.size()&&this.get(0).clientLeft,this.css(x),0>=i&&setTimeout(function(){N.each(function(){S.call(this)})},0),this},m=null}(Zepto),!function(e){e.fn.end=function(){return this.prevObject||e()},e.fn.andSelf=function(){return this.add(this.prevObject||e())},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(t){var n=e.fn[t];e.fn[t]=function(){var e=n.apply(this,arguments);return e.prevObject=this,e}})}(Zepto),!function(e){var t,n=[];e.fn.remove=function(){return this.each(function(){this.parentNode&&("IMG"===this.tagName&&(n.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",t&&clearTimeout(t),t=setTimeout(function(){n=[]},6e4)),this.parentNode.removeChild(this))})}}(Zepto);
//#../static/common/js/common.min.js
(function(e,t,n){function r(n,r){this.wrapper=typeof n=="string"?t.querySelector(n):n,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!u.hasPointer,disableTouch:u.hasPointer||!u.hasTouch,disableMouse:u.hasPointer||u.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:typeof e.onmousedown=="undefined"};for(var i in r)this.options[i]=r[i];this.translateZ=this.options.HWCompositing&&u.hasPerspective?" translateZ(0)":"",this.options.useTransition=u.hasTransition&&this.options.useTransition,this.options.useTransform=u.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY,this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=typeof this.options.bounceEasing=="string"?u.ease[this.options.bounceEasing]||u.ease.circular:this.options.bounceEasing,this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),!this.options.useTransition&&!this.options.useTransform&&(/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative")),this.options.shrinkScrollbars=="scale"&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function i(e,n,r){var i=t.createElement("div"),s=t.createElement("div");return r===!0&&(i.style.cssText="position:absolute;z-index:9999",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),s.className="iScrollIndicator",e=="h"?(r===!0&&(i.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",s.style.height="100%"),i.className="iScrollHorizontalScrollbar"):(r===!0&&(i.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",s.style.width="100%"),i.className="iScrollVerticalScrollbar"),i.style.cssText+=";overflow:hidden",n||(i.style.pointerEvents="none"),i.appendChild(s),i}function s(n,r){this.wrapper=typeof r.el=="string"?t.querySelector(r.el):r.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=n,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var i in r)this.options[i]=r[i];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(u.addEvent(this.indicator,"touchstart",this),u.addEvent(e,"touchend",this)),this.options.disablePointer||(u.addEvent(this.indicator,u.prefixPointerEvent("pointerdown"),this),u.addEvent(e,u.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(u.addEvent(this.indicator,"mousedown",this),u.addEvent(e,"mouseup",this)));if(this.options.fade){this.wrapperStyle[u.style.transform]=this.scroller.translateZ;var s=u.style.transitionDuration;if(!s)return;this.wrapperStyle[s]=u.isBadAndroid?"0.0001ms":"0ms";var a=this;u.isBadAndroid&&o(function(){a.wrapperStyle[s]==="0.0001ms"&&(a.wrapperStyle[s]="0s")}),this.wrapperStyle.opacity="0"}}var o=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},u=function(){function r(e){return o===!1?!1:o===""?e:o+e.charAt(0).toUpperCase()+e.substr(1)}var i={},s=t.createElement("div").style,o=function(){var e=["t","webkitT","MozT","msT","OT"],t,n=0,r=e.length;for(;n<r;n++){t=e[n]+"ransform";if(t in s)return e[n].substr(0,e[n].length-1)}return!1}();i.getTime=Date.now||function(){return(new Date).getTime()},i.extend=function(e,t){for(var n in t)e[n]=t[n]},i.addEvent=function(e,t,n,r){e.addEventListener(t,n,!!r)},i.removeEvent=function(e,t,n,r){e.removeEventListener(t,n,!!r)},i.prefixPointerEvent=function(t){return e.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},i.momentum=function(e,t,r,i,s,o){var u=e-t,a=n.abs(u)/r,f,l;return o=o===undefined?6e-4:o,f=e+a*a/(2*o)*(u<0?-1:1),l=a/o,f<i?(f=s?i-s/2.5*(a/8):i,u=n.abs(f-e),l=u/a):f>0&&(f=s?s/2.5*(a/8):0,u=n.abs(e)+f,l=u/a),{destination:n.round(f),duration:l}};var u=r("transform");return i.extend(i,{hasTransform:u!==!1,hasPerspective:r("perspective")in s,hasTouch:"ontouchstart"in e,hasPointer:!!e.PointerEvent||!!e.MSPointerEvent,hasTransition:r("transition")in s}),i.isBadAndroid=function(){var t=e.navigator.appVersion;if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var n=t.match(/Safari\/(\d+.\d)/);return n&&typeof n=="object"&&n.length>=2?parseFloat(n[1])<535.19:!0}return!1}(),i.extend(i.style={},{transform:u,transitionTimingFunction:r("transitionTimingFunction"),transitionDuration:r("transitionDuration"),transitionDelay:r("transitionDelay"),transformOrigin:r("transformOrigin")}),i.hasClass=function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return n.test(e.className)},i.addClass=function(e,t){if(i.hasClass(e,t))return;var n=e.className.split(" ");n.push(t),e.className=n.join(" ")},i.removeClass=function(e,t){if(!i.hasClass(e,t))return;var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(n," ")},i.offset=function(e){var t=-e.offsetLeft,n=-e.offsetTop;while(e=e.offsetParent)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},i.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},i.extend(i.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),i.extend(i.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return n.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){var t=4;return(e-=1)*e*((t+1)*e+t)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){var t=.22,r=.4;return e===0?0:e==1?1:r*n.pow(2,-10*e)*n.sin((e-t/4)*2*n.PI/t)+1}}}),i.tap=function(e,n){var r=t.createEvent("Event");r.initEvent(n,!0,!0),r.pageX=e.pageX,r.pageY=e.pageY,e.target.dispatchEvent(r)},i.click=function(n){var r=n.target,i;/(SELECT|INPUT|TEXTAREA)/i.test(r.tagName)||(i=t.createEvent(e.MouseEvent?"MouseEvents":"Event"),i.initEvent("click",!0,!0),i.view=n.view||e,i.detail=1,i.screenX=r.screenX||0,i.screenY=r.screenY||0,i.clientX=r.clientX||0,i.clientY=r.clientY||0,i.ctrlKey=!!n.ctrlKey,i.altKey=!!n.altKey,i.shiftKey=!!n.shiftKey,i.metaKey=!!n.metaKey,i.button=0,i.relatedTarget=null,i._constructed=!0,r.dispatchEvent(i))},i}();r.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){if(e.target!=this.scroller||!this.isInTransition)return;this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd"))},_start:function(e){if(u.eventType[e.type]!=1){var t;e.which?t=e.button:t=e.button<2?0:e.button==4?1:2;if(t!==0)return}if(!this.enabled||this.initiated&&u.eventType[e.type]!==this.initiated)return;this.options.preventDefault&&!u.isBadAndroid&&!u.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var r=e.touches?e.touches[0]:e,i;this.initiated=u.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=u.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,i=this.getComputedPosition(),this._translate(n.round(i.x),n.round(i.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=r.pageX,this.pointY=r.pageY,this._execEvent("beforeScrollStart")},_move:function(e){if(!this.enabled||u.eventType[e.type]!==this.initiated)return;this.options.preventDefault&&e.preventDefault();var t=e.touches?e.touches[0]:e,r=t.pageX-this.pointX,i=t.pageY-this.pointY,s=u.getTime(),o,a,f,l;this.pointX=t.pageX,this.pointY=t.pageY,this.distX+=r,this.distY+=i,f=n.abs(this.distX),l=n.abs(this.distY);if(s-this.endTime>300&&f<10&&l<10)return;!this.directionLocked&&!this.options.freeScroll&&(f>l+this.options.directionLockThreshold?this.directionLocked="h":l>=f+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n");if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")e.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}i=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")e.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}r=0}r=this.hasHorizontalScroll?r:0,i=this.hasVerticalScroll?i:0,o=this.x+r,a=this.y+i;if(o>0||o<this.maxScrollX)o=this.options.bounce?this.x+r/3:o>0?0:this.maxScrollX;if(a>0||a<this.maxScrollY)a=this.options.bounce?this.y+i/3:a>0?0:this.maxScrollY;this.directionX=r>0?-1:r<0?1:0,this.directionY=i>0?-1:i<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(o,a),s-this.startTime>300&&(this.startTime=s,this.startX=this.x,this.startY=this.y)},_end:function(e){if(!this.enabled||u.eventType[e.type]!==this.initiated)return;this.options.preventDefault&&!u.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var t=e.changedTouches?e.changedTouches[0]:e,r,i,s=u.getTime()-this.startTime,o=n.round(this.x),a=n.round(this.y),f=n.abs(o-this.startX),l=n.abs(a-this.startY),c=0,h="";this.isInTransition=0,this.initiated=0,this.endTime=u.getTime();if(this.resetPosition(this.options.bounceTime))return;this.scrollTo(o,a);if(!this.moved){this.options.tap&&u.tap(e,this.options.tap),this.options.click&&u.click(e),this._execEvent("scrollCancel");return}if(this._events.flick&&s<200&&f<100&&l<100){this._execEvent("flick");return}this.options.momentum&&s<300&&(r=this.hasHorizontalScroll?u.momentum(this.x,this.startX,s,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},i=this.hasVerticalScroll?u.momentum(this.y,this.startY,s,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},o=r.destination,a=i.destination,c=n.max(r.duration,i.duration),this.isInTransition=1);if(this.options.snap){var p=this._nearestSnap(o,a);this.currentPage=p,c=this.options.snapSpeed||n.max(n.max(n.min(n.abs(o-p.x),1e3),n.min(n.abs(a-p.y),1e3)),300),o=p.x,a=p.y,this.directionX=0,this.directionY=0,h=this.options.bounceEasing}if(o!=this.x||a!=this.y){if(o>0||o<this.maxScrollX||a>0||a<this.maxScrollY)h=u.ease.quadratic;this.scrollTo(o,a,c,h);return}this._execEvent("scrollEnd")},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y;return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),t==this.x&&n==this.y?!1:(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var e=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=u.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(!this._events[e])return;var n=this._events[e].indexOf(t);n>-1&&this._events[e].splice(n,1)},_execEvent:function(e){if(!this._events[e])return;var t=0,n=this._events[e].length;if(!n)return;for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))},scrollBy:function(e,t,n,r){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,r)},scrollTo:function(e,t,n,r){r=r||u.ease.circular,this.isInTransition=this.options.useTransition&&n>0;var i=this.options.useTransition&&r.style;!n||i?(i&&(this._transitionTimingFunction(r.style),this._transitionTime(n)),this._translate(e,t)):this._animate(e,t,n,r.fn)},scrollToElement:function(e,t,r,i,s){e=e.nodeType?e:this.scroller.querySelector(e);if(!e)return;var o=u.offset(e);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,r===!0&&(r=n.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),i===!0&&(i=n.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=r||0,o.top-=i||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,t=t===undefined||t===null||t==="auto"?n.max(n.abs(this.x-o.left),n.abs(this.y-o.top)):t,this.scrollTo(o.left,o.top,t,s)},_transitionTime:function(e){if(!this.options.useTransition)return;e=e||0;var t=u.style.transitionDuration;if(!t)return;this.scrollerStyle[t]=e+"ms";if(!e&&u.isBadAndroid){this.scrollerStyle[t]="0.0001ms";var n=this;o(function(){n.scrollerStyle[t]==="0.0001ms"&&(n.scrollerStyle[t]="0s")})}if(this.indicators)for(var r=this.indicators.length;r--;)this.indicators[r].transitionTime(e)},_transitionTimingFunction:function(e){this.scrollerStyle[u.style.transitionTimingFunction]=e;if(this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){this.options.useTransform?this.scrollerStyle[u.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=n.round(e),t=n.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t;if(this.indicators)for(var r=this.indicators.length;r--;)this.indicators[r].updatePosition()},_initEvents:function(t){var n=t?u.removeEvent:u.addEvent,r=this.options.bindToWrapper?this.wrapper:e;n(e,"orientationchange",this),n(e,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(r,"mousemove",this),n(r,"mousecancel",this),n(r,"mouseup",this)),u.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,u.prefixPointerEvent("pointerdown"),this),n(r,u.prefixPointerEvent("pointermove"),this),n(r,u.prefixPointerEvent("pointercancel"),this),n(r,u.prefixPointerEvent("pointerup"),this)),u.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(r,"touchmove",this),n(r,"touchcancel",this),n(r,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t=e.getComputedStyle(this.scroller,null),n,r;return this.options.useTransform?(t=t[u.style.transform].split(")")[0].split(", "),n=+(t[12]||t[4]),r=+(t[13]||t[5])):(n=+t.left.replace(/[^-\d.]/g,""),r=+t.top.replace(/[^-\d.]/g,"")),{x:n,y:r}},_initIndicators:function(){function e(e){if(u.indicators)for(var t=u.indicators.length;t--;)e.call(u.indicators[t])}var t=this.options.interactiveScrollbars,n=typeof this.options.scrollbars!="string",r=[],o,u=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(o={el:i("v",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(o.el),r.push(o)),this.options.scrollX&&(o={el:i("h",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(o.el),r.push(o))),this.options.indicators&&(r=r.concat(this.options.indicators));for(var a=r.length;a--;)this.indicators.push(new s(this,r[a]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){e(function(){this.fade()})}),this.on("scrollCancel",function(){e(function(){this.fade()})}),this.on("scrollStart",function(){e(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){e(function(){this.fade(1,!0)})})),this.on("refresh",function(){e(function(){this.refresh()})}),this.on("destroy",function(){e(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){u.addEvent(this.wrapper,"wheel",this),u.addEvent(this.wrapper,"mousewheel",this),u.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,u.removeEvent(this.wrapper,"wheel",this),u.removeEvent(this.wrapper,"mousewheel",this),u.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(!this.enabled)return;e.preventDefault();var t,r,i,s,o=this;this.wheelTimeout===undefined&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o.options.snap||o._execEvent("scrollEnd"),o.wheelTimeout=undefined},400);if("deltaX"in e)e.deltaMode===1?(t=-e.deltaX*this.options.mouseWheelSpeed,r=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,r=-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,r=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=r=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=r=-e.detail/3*this.options.mouseWheelSpeed}t*=this.options.invertWheelDirection,r*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=r,r=0);if(this.options.snap){i=this.currentPage.pageX,s=this.currentPage.pageY,t>0?i--:t<0&&i++,r>0?s--:r<0&&s++,this.goToPage(i,s);return}i=this.x+n.round(this.hasHorizontalScroll?t:0),s=this.y+n.round(this.hasVerticalScroll?r:0),this.directionX=t>0?-1:t<0?1:0,this.directionY=r>0?-1:r<0?1:0,i>0?i=0:i<this.maxScrollX&&(i=this.maxScrollX),s>0?s=0:s<this.maxScrollY&&(s=this.maxScrollY),this.scrollTo(i,s,0)},_initSnap:function(){this.currentPage={},typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e=0,t,r=0,i,s,o,u=0,a,f=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight,c;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight)return;if(this.options.snap===!0){s=n.round(f/2),o=n.round(l/2);while(u>-this.scrollerWidth){this.pages[e]=[],t=0,a=0;while(a>-this.scrollerHeight)this.pages[e][t]={x:n.max(u,this.maxScrollX),y:n.max(a,this.maxScrollY),width:f,height:l,cx:u-s,cy:a-o},a-=l,t++;u-=f,e++}}else{c=this.options.snap,t=c.length,i=-1;for(;e<t;e++){if(e===0||c[e].offsetLeft<=c[e-1].offsetLeft)r=0,i++;this.pages[r]||(this.pages[r]=[]),u=n.max(-c[e].offsetLeft,this.maxScrollX),a=n.max(-c[e].offsetTop,this.maxScrollY),s=u-n.round(c[e].offsetWidth/2),o=a-n.round(c[e].offsetHeight/2),this.pages[r][i]={x:u,y:a,width:c[e].offsetWidth,height:c[e].offsetHeight,cx:s,cy:o},u>this.maxScrollX&&r++}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}),this.on("flick",function(){var e=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.x-this.startX),1e3),n.min(n.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,i=this.pages.length,s=0;if(n.abs(e-this.absStartX)<this.snapThresholdX&&n.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);for(;r<i;r++)if(e>=this.pages[r][0].cx){e=this.pages[r][0].x;break}i=this.pages[r].length;for(;s<i;s++)if(t>=this.pages[0][s].cy){t=this.pages[0][s].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),e=this.pages[r][0].x),s==this.currentPage.pageY&&(s+=this.directionY,s<0?s=0:s>=this.pages[0].length&&(s=this.pages[0].length-1),t=this.pages[0][s].y),{x:e,y:t,pageX:r,pageY:s}},goToPage:function(e,t,r,i){i=i||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var s=this.pages[e][t].x,o=this.pages[e][t].y;r=r===undefined?this.options.snapSpeed||n.max(n.max(n.min(n.abs(s-this.x),1e3),n.min(n.abs(o-this.y),1e3)),300):r,this.currentPage={x:s,y:o,pageX:e,pageY:t},this.scrollTo(s,o,r,i)},next:function(e,t){var n=this.currentPage.pageX,r=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,r++),this.goToPage(n,r,e,t)},prev:function(e,t){var n=this.currentPage.pageX,r=this.currentPage.pageY;n--,n<0&&this.hasVerticalScroll&&(n=0,r--),this.goToPage(n,r,e,t)},_initKeys:function(t){var n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},r;if(typeof this.options.keyBindings=="object")for(r in this.options.keyBindings)typeof this.options.keyBindings[r]=="string"&&(this.options.keyBindings[r]=this.options.keyBindings[r].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(r in n)this.options.keyBindings[r]=this.options.keyBindings[r]||n[r];u.addEvent(e,"keydown",this),this.on("destroy",function(){u.removeEvent(e,"keydown",this)})},_key:function(e){if(!this.enabled)return;var t=this.options.snap,r=t?this.currentPage.pageX:this.x,i=t?this.currentPage.pageY:this.y,s=u.getTime(),o=this.keyTime||0,a=.25,f;this.options.useTransition&&this.isInTransition&&(f=this.getComputedPosition(),this._translate(n.round(f.x),n.round(f.y)),this.isInTransition=!1),this.keyAcceleration=s-o<200?n.min(this.keyAcceleration+a,50):0;switch(e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?r+=t?1:this.wrapperWidth:i+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?r-=t?1:this.wrapperWidth:i-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:r=t?this.pages.length-1:this.maxScrollX,i=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:r=0,i=0;break;case this.options.keyBindings.left:r+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:i+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:r-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:i-=t?1:5+this.keyAcceleration>>0;break;default:return}if(t){this.goToPage(r,i);return}r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollX&&(r=this.maxScrollX,this.keyAcceleration=0),i>0?(i=0,this.keyAcceleration=0):i<this.maxScrollY&&(i=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(r,i,0),this.keyTime=s},_animate:function(e,t,n,r){function i(){var h=u.getTime(),p,d,v;if(h>=c){s.isAnimating=!1,s._translate(e,t),s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd");return}h=(h-l)/n,v=r(h),p=(e-a)*v+a,d=(t-f)*v+f,s._translate(p,d),s.isAnimating&&o(i)}var s=this,a=this.x,f=this.y,l=u.getTime(),c=l+n;this.isAnimating=!0,i()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":this.enabled&&!e._constructed&&(e.preventDefault(),e.stopPropagation())}}},s.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(u.removeEvent(this.indicator,"touchstart",this),u.removeEvent(this.indicator,u.prefixPointerEvent("pointerdown"),this),u.removeEvent(this.indicator,"mousedown",this),u.removeEvent(e,"touchmove",this),u.removeEvent(e,u.prefixPointerEvent("pointermove"),this),u.removeEvent(e,"mousemove",this),u.removeEvent(e,"touchend",this),u.removeEvent(e,u.prefixPointerEvent("pointerup"),this),u.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var n=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=u.getTime(),this.options.disableTouch||u.addEvent(e,"touchmove",this),this.options.disablePointer||u.addEvent(e,u.prefixPointerEvent("pointermove"),this),this.options.disableMouse||u.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t=e.touches?e.touches[0]:e,n,r,i,s,o=u.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,n=t.pageX-this.lastPointX,this.lastPointX=t.pageX,r=t.pageY-this.lastPointY,this.lastPointY=t.pageY,i=this.x+n,s=this.y+r,this._pos(i,s),e.preventDefault(),e.stopPropagation()},_end:function(t){if(!this.initiated)return;this.initiated=!1,t.preventDefault(),t.stopPropagation(),u.removeEvent(e,"touchmove",this),u.removeEvent(e,u.prefixPointerEvent("pointermove"),this),u.removeEvent(e,"mousemove",this);if(this.scroller.options.snap){var r=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.scroller.x-r.x),1e3),n.min(n.abs(this.scroller.y-r.y),1e3)),300);if(this.scroller.x!=r.x||this.scroller.y!=r.y)this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=r,this.scroller.scrollTo(r.x,r.y,i,this.scroller.options.bounceEasing)}this.moved&&this.scroller._execEvent("scrollEnd")},transitionTime:function(e){e=e||0;var t=u.style.transitionDuration;if(!t)return;this.indicatorStyle[t]=e+"ms";if(!e&&u.isBadAndroid){this.indicatorStyle[t]="0.0001ms";var n=this;o(function(){n.indicatorStyle[t]==="0.0001ms"&&(n.indicatorStyle[t]="0s")})}},transitionTimingFunction:function(e){this.indicatorStyle[u.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(u.addClass(this.wrapper,"iScrollBothScrollbars"),u.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(u.removeClass(this.wrapper,"iScrollBothScrollbars"),u.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var e=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=n.max(n.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.options.shrink=="clip"?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=n.max(n.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.options.shrink=="clip"?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&n.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&n.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?(this.options.shrink=="scale"&&(this.width=n.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?this.options.shrink=="scale"?(this.width=n.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:this.options.shrink=="scale"&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?(this.options.shrink=="scale"&&(this.height=n.max(this.indicatorHeight+t*3,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?this.options.shrink=="scale"?(this.height=n.max(this.indicatorHeight-(t-this.maxPosY)*3,8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:this.options.shrink=="scale"&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[u.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?n.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?n.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(t&&!this.visible)return;clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=e?250:500,r=e?0:300;e=e?"1":"0",this.wrapperStyle[u.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),r)}},r.utils=u,typeof module!="undefined"&&module.exports?module.exports=r:typeof define=="function"&&define.amd?define(function(){return r}):e.IScroll=r})(window,document,Math);var remoter={get:function(e,t,n){$.ajax({url:e,data:t,timeout:5e3,error:function(e){console.log(e),n(null)},success:function(e){n(e)}})},post:function(e,t,n){$.ajax({url:e,data:t,type:"post",timeout:1e4,error:function(e){console.log(e),n(null)},success:function(e){n(e)}})}};(function(e){e.tip=function(t){var n=e("<div style='position:fixed;bottom:200px;left:0;padding:20px;text-align:center;width:100%;z-index:10002;'><span style='border-radius:6px;background:rgba(0,0,0,0.7);color:#FFFFFF;padding:10px 20px;font-size:18px;'>"+t+"</span>"+"</div>").appendTo(document.body);setTimeout(function(){n.fadeOut(800,function(){n.remove()})},1e3)};var t="transitionend";"onwebkittransitionend"in window?t="webkitTransitionEnd":"onotransitionend"in document&&(t="oTransitionEnd");var n=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"":/MSIE/i.test(navigator.userAgent)?"ms":"opera"in window?"O":"";e.fn.canvasPanel=function(t){return e("<div class='canvas_panel'></div>").css({position:"fixed",top:0,left:0,"z-index":10,width:"100%",height:"100%","text-align":"center",background:"rgba(100,100,100,0.7)"}).appendTo(this).append(t)},e.bottomConfirm=function(t,n,r){var i=e("<div style='position:fixed;bottom:0;left:0;width:100%;z-index:10001;background:#000000;opacity:0.6;padding:10px'><div style='padding:10px;'>"+t+"</div>"+"<button id='btn-default' type='button' class='btn btn-danger' style='position:relative;top:-6px;float:left;margin-left:30%;'>取消</button>"+"<button id='btn-primary' type='button' class='btn btn-success' style='position:relative;top:-6px;float:right;margin-right:30%;'>确定</button>"+"</div>").appendTo(document.body);i.find("#btn-default").click(function(){typeof r=="function"&&r(),i.remove()}),i.find("#btn-primary").click(function(){typeof n=="function"&&n(),i.remove()})},e.fn.pager=function(t){var n=e(this);n.find(".pager-page").click(function(){var n=e(this).attr("page");t(n)}),n.find(".pager-next").click(function(){var e=parseInt(n.attr("page"))+1;t(e)}),n.find(".pager-pre").click(function(){var e=parseInt(n.attr("page"))-1;t(e)})},e.fn.onenter=function(t){e(this).on("keypress",function(e){e.keyCode==13&&typeof t=="function"&&t(e)})},e.fn.scrollToBottom=function(){var e=this[0].scrollHeight;e>0&&(this[0].scrollTop=e)},e.eventPos=function(e){window.event&&!e&&(e=window.event),e.originalEvent&&(e=e.originalEvent);if(e.touches){var t=(e.targetTouches||e.changedTouches)[0];return t?{x:t.pageX,y:t.pageY}:{x:e.pageX,y:e.pageY}}return{x:e.clientX,y:e.clientY}},e.getQuery=function(e){var t=location.search.match(new RegExp("[?&]"+e+"=([^&]+)","i"));return t==null||t.length<1?"":t[1]},e.form={isID:function(e){return e=e.toUpperCase(),/(^\d{17}([0-9]|X)$)/.test(e)?!0:!1},isQQ:function(e){return e.search(/^[1-9]\d{4,8}$/)!=-1?!0:e.length==0?!0:!1},isTel:function(e){return/^(([0\+]\d{2,3})?(0\d{2,3}))(\d{7,8})((\d{3,}))?$/.test(e)},hasBlank:function(e){return e.indexOf(" ")==-1?!0:!1},delBlank:function(e){return e.replace(/(^\s+)|(\s+$)/g,"")},isSame:function(e,t){return e===t?!0:!1},isEmpty:function(e){return e?e.length==0?!1:!0:!1},isEmail:function(e){return/^[A-Za-z\d]+([-_\.][A-Za-z\d]+)*@([A-Za-z\d]+[-\.])+[A-Za-z\d]{2,5}$/.test(e)?!0:!1},isPhone:function(e){var t=/^1\d{10}$/;return t.test(e)?!0:e.length==0?!0:!1},hasIllegalChar:function(e){return/[<>@#\$%\^&\*]+/g.test(e)},isAdmin:function(e){var t=/^[\u4e00-\u9fa5A-Za-z0-9-_]*$/;return t.test(e)?!0:!1}},e.getCookie=function(e){var t=document.cookie,n=e+"=",r=t.indexOf("; "+n);if(r==-1){r=t.indexOf(n);if(r!=0)return null}else r+=2;var i=document.cookie.indexOf(";",r);return i==-1&&(i=t.length),unescape(t.substring(r+n.length,i))},e.setCookie=function(e,t,n,r){var i=[e+"="+escape(t)];if(n>0){var s=new Date,o=n*3600*1e3;s.setTime(s.getTime()+o),i.push(" expires="+s.toGMTString())}r||(r="/"),i.push(" path="+r),document.cookie=i.join(";")},e.getStorage=function(t){return window.localStorage?window.localStorage.getItem(t):e.getCookie(t)},e.setStorage=function(t,n){window.localStorage?window.localStorage.setItem(t,n):e.setCookie(t,n,120)},e.fn.serJson=e.fn.serializeJson=function(){var t={};return e(this.serializeArray()).each(function(){var e=this.name;t[e]?(t[e].push||(t[e]=[t[e]]),t[e].push(this.value)):t[e]=this.value}),t}})(Zepto),function(e){e.fn.citySelect=function(t){if(this.length<1)return;t=e.extend({url:"/static/common/js/city.min.js",prov:null,city:null,dist:null,nodata:null,required:!0},t);var n=this,r=n.find(".prov"),i=n.find(".city"),s=n.find(".dist"),o=t.prov,u=t.city,a=t.dist,f=t.required?"":"<option value=''>请选择</option>",l,c=function(){var n=r.get(0).selectedIndex;t.required||n--,i.empty().attr("disabled",!0),s.empty().attr("disabled",!0);if(n<0||typeof l.citylist[n].c=="undefined"){t.nodata=="none"?(i.css("display","none"),s.css("display","none")):t.nodata=="hidden"&&(i.css("visibility","hidden"),s.css("visibility","hidden"));return}temp_html=f,e.each(l.citylist[n].c,function(e,t){temp_html+="<option value='"+t.n+"'>"+t.n+"</option>"}),i.html(temp_html).removeAttr("disabled").css({display:"",visibility:""}),h()},h=function(){var n=r.get(0).selectedIndex,o=i.get(0).selectedIndex;t.required||(n--,o--),s.empty().attr("disabled",!0);if(n<0||o<0||typeof l.citylist[n].c[o].a=="undefined"){t.nodata=="none"?s.css("display","none"):t.nodata=="hidden"&&s.css("visibility","hidden");return}temp_html=f,e.each(l.citylist[n].c[o].a,function(e,t){temp_html+="<option value='"+t.s+"'>"+t.s+"</option>"}),s.html(temp_html).removeAttr("disabled").css({display:"",visibility:""})},p=function(){temp_html=f,e.each(l.citylist,function(e,t){temp_html+="<option value='"+t.p+"'>"+t.p+"</option>"}),r.html(temp_html),setTimeout(function(){t.prov!=null&&(r.val(t.prov),c(),setTimeout(function(){t.city!=null&&(i.val(t.city),h(),setTimeout(function(){t.dist!=null&&s.val(t.dist)},1))},1))},1),r.bind("change",function(){c()}),i.bind("change",function(){h()})};typeof t.url=="string"?e.getJSON(t.url,function(e){l=e,p()}):(l=t.url,p())}}(Zepto),function(e){e.fn.dateSelect=function(t){if(this.length<1)return;t=e.extend({year:null,month:null,day:null},t);var n=this,r=n.find(".year"),i=n.find(".month"),s=n.find(".day"),o=t.year,u=t.month,a=t.day,f=(new Date).getFullYear(),l="<option value=''>"+f+"</option>",c=function(){var e=l;for(var t=f-1;t>1950;t--)e+="<option value='"+t+"'>"+t+"</option>";r.html(e),h()},h=function(){i.empty().attr("disabled",!0),s.empty().attr("disabled",!0);var e="<option value=''>1</option>";for(var t=1;t<13;t++)e+="<option value='"+t+"'>"+t+"</option>";i.html(e).removeAttr("disabled").css({display:"",visibility:""}),p()},p=function(){s.empty().attr("disabled",!0);var e="<option value=''>1</option>";for(var t=1;t<32;t++)e+="<option value='"+t+"'>"+t+"</option>";s.html(e).removeAttr("disabled").css({display:"",visibility:""})},d=function(){c(),r.bind("change",function(){h()}),i.bind("change",function(){p()})};d()}}(Zepto);var MetaLoader=function(e,t){var n=Rest.create(e),r={loadList:function(n){r.page=n||r.page||"0",$.ajax({url:"/mkmeta/list/"+e,data:{page:r.page},success:function(e){t.html(e),r.bindAction()}})},bindAction:function(){t.find("a.delete").click(function(){var e=$(this).attr("id");confirm("确定要删除此案例吗？")&&n.remove({id:e},function(e){$.tip(e.message),e.code>0&&r.loadList()})}),t.find("a.edit").click(function(){var e=$(this).attr("id");r.loadMetaEdit(e)}),t.find("button#addcase").click(function(){r.loadMetaEdit()}),t.find(".pager-bar").pager(function(e){r.loadList(e)})},loadMetaEdit:function(t){$.ajax({url:"/mkmeta/editform/"+e,data:{id:t},success:function(e){var t=$("<div id='editwrapper' class='dialog-wrapper'></div>");t.appendTo(document.body),t.html(e),r.bindEditAction(t)}})},bindEditAction:function(e){e.find("button.close").click(function(){e.remove()}),e.find("#image-upload").bindUpload({url:"/mkimg/upload",accept:"image/*",params:{upload_dir:"metaimg"},oncomplate:function(t){var n=e.find("#image-upload").parent().parent();n.find(".up-img").attr("src",t.url).show(),n.find("input.up-url").val(t.url)}}),e.find("button#metasave").click(function(){var t=e.find("#metaform").serializeJson();t.isuse=="on"?t.isuse="1":t.isuse="0",t.istop=="on"?t.istop="1":t.istop="0";if(t.id){var i=t.id;delete t.id,n.update({id:i},t,function(t){$.tip(t.message),t.code>0&&(e.remove(),r.loadList())})}else n.add(t,function(t){$.tip(t.message),t.code>0&&(e.remove(),r.loadList())})})}};return r},Rest=window.Rest||{};Rest.create=function(e){return{add:function(t,n){$.ajax({url:"/add/"+e,data:t,type:"post",success:n})},query:function(t,n){$.ajax({url:"/query/"+e,data:t,type:"get",success:n})},get:function(t,n){$.ajax({url:"/get/"+e+"/"+t,type:"get",success:n})},update:function(t,n,r){$.ajax({url:"/update/"+e+"?"+$.param(t),type:"post",data:n,success:r})},remove:function(t,n){$.ajax({url:"/remove/"+e,type:"get",data:t,success:n})},action:function(t,n,r){$.ajax({url:"/action/"+e+"/"+t,type:"post",data:n,success:r})}}};var Zepto=function(){function e(e){return null==e?String(e):J[K.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(t){return"object"==e(t)}function s(e){return i(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function o(e){return"number"==typeof e.length}function u(e){return O.call(e,function(e){return null!=e})}function a(e){return e.length>0?T.fn.concat.apply([],e):e}function f(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(e){return e in P?P[e]:P[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function c(e,t){return"number"!=typeof t||H[f(e)]?t:t+"px"}function h(e){var t,n;return D[e]||(t=_.createElement(e),_.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),D[e]=n),D[e]}function p(e){return"children"in e?M.call(e.children):T.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function d(e,t){var n,r=e?e.length:0;for(n=0;r>n;n++)this[n]=e[n];this.length=r,this.selector=t||""}function v(e,t,n){for(x in t)n&&(s(t[x])||Z(t[x]))?(s(t[x])&&!s(e[x])&&(e[x]={}),Z(t[x])&&!Z(e[x])&&(e[x]=[]),v(e[x],t[x],n)):t[x]!==S&&(e[x]=t[x])}function m(e,t){return null==t?T(e):T(e).filter(t)}function g(e,n,r,i){return t(n)?n.call(e,r,i):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function b(e,t){var n=e.className||"",r=n&&n.baseVal!==S;return t===S?r?n.baseVal:n:void (r?n.baseVal=t:e.className=t)}function w(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?T.parseJSON(e):e):e}catch(t){return e}}function E(e,t){t(e);for(var n=0,r=e.childNodes.length;r>n;n++)E(e.childNodes[n],t)}var S,x,T,N,C,k,L=[],A=L.concat,O=L.filter,M=L.slice,_=window.document,D={},P={},H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},B=/^\s*<(\w+|!)[^>]*>/,j=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,F=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,I=/^(?:body|html)$/i,q=/([A-Z])/g,R=["val","css","html","text","data","width","height","offset"],U=["after","prepend","before","append"],z=_.createElement("table"),W=_.createElement("tr"),X={tr:_.createElement("tbody"),tbody:z,thead:z,tfoot:z,td:W,th:W,"*":_.createElement("div")},V=/complete|loaded|interactive/,$=/^[\w-]*$/,J={},K=J.toString,Q={},G=_.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(e){return e instanceof Array};return Q.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,s=!i;return s&&(i=G).appendChild(e),r=~Q.qsa(i,t).indexOf(e),s&&G.removeChild(e),r},C=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},k=function(e){return O.call(e,function(t,n){return e.indexOf(t)==n})},Q.fragment=function(e,t,n){var r,i,o;return j.test(e)&&(r=T(_.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(F,"<$1></$2>")),t===S&&(t=B.test(e)&&RegExp.$1),t in X||(t="*"),o=X[t],o.innerHTML=""+e,r=T.each(M.call(o.childNodes),function(){o.removeChild(this)})),s(n)&&(i=T(r),T.each(n,function(e,t){R.indexOf(e)>-1?i[e](t):i.attr(e,t)})),r},Q.Z=function(e,t){return new d(e,t)},Q.isZ=function(e){return e instanceof Q.Z},Q.init=function(e,n){var r;if(!e)return Q.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&B.test(e))r=Q.fragment(e,RegExp.$1,n),e=null;else{if(n!==S)return T(n).find(e);r=Q.qsa(_,e)}else{if(t(e))return T(_).ready(e);if(Q.isZ(e))return e;if(Z(e))r=u(e);else if(i(e))r=[e],e=null;else if(B.test(e))r=Q.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==S)return T(n).find(e);r=Q.qsa(_,e)}}return Q.Z(r,e)},T=function(e,t){return Q.init(e,t)},T.extend=function(e){var t,n=M.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){v(e,n,t)}),e},Q.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],s=r||i?t.slice(1):t,o=$.test(s);return e.getElementById&&o&&r?(n=e.getElementById(s))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:M.call(o&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))},T.contains=_.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},T.type=e,T.isFunction=t,T.isWindow=n,T.isArray=Z,T.isPlainObject=s,T.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},T.inArray=function(e,t,n){return L.indexOf.call(t,e,n)},T.camelCase=C,T.trim=function(e){return null==e?"":String.prototype.trim.call(e)},T.uuid=0,T.support={},T.expr={},T.noop=function(){},T.map=function(e,t){var n,r,i,s=[];if(o(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&s.push(n);else for(i in e)n=t(e[i],i),null!=n&&s.push(n);return a(s)},T.each=function(e,t){var n,r;if(o(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},T.grep=function(e,t){return O.call(e,t)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()}),T.fn={constructor:Q.Z,length:0,forEach:L.forEach,reduce:L.reduce,push:L.push,sort:L.sort,splice:L.splice,indexOf:L.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=Q.isZ(t)?t.toArray():t;return A.apply(Q.isZ(this)?this.toArray():this,n)},map:function(e){return T(T.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return T(M.apply(this,arguments))},ready:function(e){return V.test(_.readyState)&&_.body?e(T):_.addEventListener("DOMContentLoaded",function(){e(T)},!1),this},get:function(e){return e===S?M.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return L.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):T(O.call(this,function(t){return Q.matches(t,e)}))},add:function(e,t){return T(k(this.concat(T(e,t))))},is:function(e){return this.length>0&&Q.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==S)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):o(e)&&t(e.item)?M.call(e):T(e);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return T(n)},has:function(e){return this.filter(function(){return i(e)?T.contains(this,e):T(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:T(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:T(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?T(e).filter(function(){var e=this;return L.some.call(n,function(t){return T.contains(t,e)})}):1==this.length?T(Q.qsa(this[0],e)):this.map(function(){return Q.qsa(this,e)}):T()},closest:function(e,t){var n=this[0],i=!1;for("object"==typeof e&&(i=T(e));n&&!(i?i.indexOf(n)>=0:Q.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return T(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=T.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return m(t,e)},parent:function(e){return m(k(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||M.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return O.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return T.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=T(e).get(0),i=r.parentNode||this.length>1;return this.each(function(t){T(this).wrapAll(n?e.call(this,t):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){T(this[0]).before(e=T(e));for(var t;(t=e.children()).length;)e=t.first();T(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=T(this),i=r.contents(),s=n?e.call(this,t):e;i.length?i.wrapAll(s):r.append(s)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=T(this);(e===S?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return T(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return T(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;T(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(e))for(x in e)y(this,x,e[x]);else y(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:S},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function(e,t){return e=Y[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(q,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?w(r):S},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=T(this),r=g(this,e,t,n.offset()),i=n.offsetParent().offset(),s={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)});if(!this.length)return null;if(!T.contains(_.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r,i=this[0];if(!i)return;if(r=getComputedStyle(i,""),"string"==typeof t)return i.style[C(t)]||r.getPropertyValue(t);if(Z(t)){var s={};return T.each(t,function(e,t){s[t]=i.style[C(t)]||r.getPropertyValue(t)}),s}}var o="";if("string"==e(t))n||0===n?o=f(t)+":"+c(t,n):this.each(function(){this.style.removeProperty(f(t))});else for(x in t)t[x]||0===t[x]?o+=f(x)+":"+c(x,t[x])+";":this.each(function(){this.style.removeProperty(f(x))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(T(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?L.some.call(this,function(e){return this.test(b(e))},l(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){N=[];var n=b(this),r=g(this,e,t,n);r.split(/\s+/g).forEach(function(e){T(this).hasClass(e)||N.push(e)},this),N.length&&b(this,n+(n?" ":"")+N.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===S)return b(this,"");N=b(this),g(this,e,t,N).split(/\s+/g).forEach(function(e){N=N.replace(l(e)," ")}),b(this,N.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var r=T(this),i=g(this,e,n,b(this));i.split(/\s+/g).forEach(function(e){(t===S?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===S?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===S?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=I.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(T(e).css("margin-top"))||0,n.left-=parseFloat(T(e).css("margin-left"))||0,r.top+=parseFloat(T(t[0]).css("border-top-width"))||0,r.left+=parseFloat(T(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||_.body;e&&!I.test(e.nodeName)&&"static"==T(e).css("position");)e=e.offsetParent;return e})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});T.fn[e]=function(i){var s,o=this[0];return i===S?n(o)?o["inner"+t]:r(o)?o.documentElement["scroll"+t]:(s=this.offset())&&s[e]:this.each(function(t){o=T(this),o.css(e,g(this,i,t,o[e]()))})}}),U.forEach(function(t,n){var r=n%2;T.fn[t]=function(){var t,i,s=T.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:Q.fragment(n)}),o=this.length>1;return s.length<1?this:this.each(function(e,t){i=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var u=T.contains(_.documentElement,i);s.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!i)return T(e).remove();i.insertBefore(e,t),u&&E(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},T.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return T(e)[t](this),this}}),Q.Z.prototype=d.prototype=T.fn,Q.uniq=k,Q.deserializeValue=w,T.zepto=Q,T}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),!function(e){function t(e,t,n,r){return Math.abs(e-t)>=Math.abs(n-r)?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function n(){l=null,h.last&&(h.el.trigger("longTap"),h={})}function r(){l&&clearTimeout(l),l=null}function i(){u&&clearTimeout(u),a&&clearTimeout(a),f&&clearTimeout(f),l&&clearTimeout(l),u=a=f=l=null,h={}}function s(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function o(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}var u,a,f,l,c,h={},p=750;e(document).ready(function(){var d,v,m,g,y=0,b=0;"MSGesture"in window&&(c=new MSGesture,c.target=document.body),e(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(h.el.trigger("swipe"),h.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(t){(!(g=o(t,"down"))||s(t))&&(m=g?t:t.touches[0],t.touches&&1===t.touches.length&&h.x2&&(h.x2=void 0,h.y2=void 0),d=Date.now(),v=d-(h.last||d),h.el=e("tagName"in m.target?m.target:m.target.parentNode),u&&clearTimeout(u),h.x1=m.pageX,h.y1=m.pageY,v>0&&250>=v&&(h.isDoubleTap=!0),h.last=d,l=setTimeout(n,p),c&&g&&c.addPointer(t.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(!(g=o(e,"move"))||s(e))&&(m=g?e:e.touches[0],r(),h.x2=m.pageX,h.y2=m.pageY,y+=Math.abs(h.x1-h.x2),b+=Math.abs(h.y1-h.y2))}).on("touchend MSPointerUp pointerup",function(n){(!(g=o(n,"up"))||s(n))&&(r(),h.x2&&Math.abs(h.x1-h.x2)>30||h.y2&&Math.abs(h.y1-h.y2)>30?f=setTimeout(function(){h.el.trigger("swipe"),h.el.trigger("swipe"+t(h.x1,h.x2,h.y1,h.y2)),h={}},0):"last"in h&&(30>y&&30>b?a=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=i,h.el.trigger(t),h.isDoubleTap?(h.el&&h.el.trigger("doubleTap"),h={}):u=setTimeout(function(){u=null,h.el&&h.el.trigger("singleTap"),h={}},250)},0):h={}),y=b=0)}).on("touchcancel MSPointerCancel pointercancel",i),e(window).on("scroll",i)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})}(Zepto),!function(e){e.fn.serializeArray=function(){var t,n,r=[],i=function(e){return e.forEach?e.forEach(i):void r.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(r,s){n=s.type,t=s.name,t&&"fieldset"!=s.nodeName.toLowerCase()&&!s.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||s.checked)&&i(e(s).val())}),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),!function(e){function t(e,t){var n=this.os={},r=this.browser={},i=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),s=e.match(/(Android);?[\s\/]+([\d.]+)?/),o=!!e.match(/\(Macintosh\; Intel /),u=e.match(/(iPad).*OS\s([\d_]+)/),a=e.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&e.match(/(iPhone\sOS)\s([\d_]+)/),l=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=/Win\d{2}|Windows/.test(t),h=e.match(/Windows Phone ([\d.]+)/),p=l&&e.match(/TouchPad/),d=e.match(/Kindle\/([\d.]+)/),v=e.match(/Silk\/([\d._]+)/),m=e.match(/(BlackBerry).*Version\/([\d.]+)/),g=e.match(/(BB10).*Version\/([\d.]+)/),y=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=e.match(/PlayBook/),w=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),E=e.match(/Firefox\/([\d.]+)/),S=e.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),x=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),T=!w&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),N=T||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(r.webkit=!!i)&&(r.version=i[1]),s&&(n.android=!0,n.version=s[2]),f&&!a&&(n.ios=n.iphone=!0,n.version=f[2].replace(/_/g,".")),u&&(n.ios=n.ipad=!0,n.version=u[2].replace(/_/g,".")),a&&(n.ios=n.ipod=!0,n.version=a[3]?a[3].replace(/_/g,"."):null),h&&(n.wp=!0,n.version=h[1]),l&&(n.webos=!0,n.version=l[2]),p&&(n.touchpad=!0),m&&(n.blackberry=!0,n.version=m[2]),g&&(n.bb10=!0,n.version=g[2]),y&&(n.rimtabletos=!0,n.version=y[2]),b&&(r.playbook=!0),d&&(n.kindle=!0,n.version=d[1]),v&&(r.silk=!0,r.version=v[1]),!v&&n.android&&e.match(/Kindle Fire/)&&(r.silk=!0),w&&(r.chrome=!0,r.version=w[1]),E&&(r.firefox=!0,r.version=E[1]),S&&(n.firefoxos=!0,n.version=S[1]),x&&(r.ie=!0,r.version=x[1]),N&&(o||n.ios||c)&&(r.safari=!0,n.ios||(r.version=N[1])),T&&(r.webview=!0),n.tablet=!!(u||b||s&&!e.match(/Mobile/)||E&&e.match(/Tablet/)||x&&!e.match(/Phone/)&&e.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(s||f||l||m||g||w&&e.match(/Android/)||w&&e.match(/CriOS\/([\d.]+)/)||E&&e.match(/Mobile/)||x&&e.match(/Touch/)))}t.call(e,navigator.userAgent,navigator.platform),e.__detect=t}(Zepto),!function(e){function t(e){return e._zid||(e._zid=h++)}function n(e,n,s,o){if(n=r(n),n.ns)var u=i(n.ns);return(m[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!u.test(e.ns)||s&&t(e.fn)!==t(s)||o&&e.sel!=o)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function s(e,t){return e.del&&!y&&e.e in b||!!t}function o(e){return w[e]||y&&b[e]||e}function u(n,i,u,a,l,h,p){var d=t(n),v=m[d]||(m[d]=[]);i.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(u);var i=r(t);i.fn=u,i.sel=l,i.e in w&&(u=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=h;var d=h||u;i.proxy=function(e){if(e=f(e),!e.isImmediatePropagationStopped()){e.data=a;var t=d.apply(n,e._args==c?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},i.i=v.length,v.push(i),"addEventListener"in n&&n.addEventListener(o(i.e),i.proxy,s(i,p))})}function a(e,r,i,u,a){var f=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,i,u).forEach(function(t){delete m[f][t.i],"removeEventListener"in e&&e.removeEventListener(o(t.e),t.proxy,s(t,a))})})}function f(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(T,function(e,r){var i=n[e];t[e]=function(){return this[r]=E,i&&i.apply(n,arguments)},t[r]=S}),(n.defaultPrevented!==c?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=E)),t}function l(e){var t,n={originalEvent:e};for(t in e)x.test(t)||e[t]===c||(n[t]=e[t]);return f(n,e)}var c,h=1,p=Array.prototype.slice,d=e.isFunction,v=function(e){return"string"==typeof e},m={},g={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",e.event={add:u,remove:a},e.proxy=function(n,r){var i=2 in arguments&&p.call(arguments,2);if(d(n)){var s=function(){return n.apply(r,i?i.concat(p.call(arguments)):arguments)};return s._zid=t(n),s}if(v(r))return i?(i.unshift(n[r],n),e.proxy.apply(null,i)):e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var E=function(){return!0},S=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,i,s){var o,f,h=this;return t&&!v(t)?(e.each(t,function(e,t){h.on(e,n,r,t,s)}),h):(v(n)||d(i)||i===!1||(i=r,r=n,n=c),(i===c||r===!1)&&(i=r,r=c),i===!1&&(i=S),h.each(function(c,h){s&&(o=function(e){return a(h,e.type,i),i.apply(this,arguments)}),n&&(f=function(t){var r,s=e(t.target).closest(n,h).get(0);return s&&s!==h?(r=e.extend(l(t),{currentTarget:s,liveFired:h}),(o||i).apply(s,[r].concat(p.call(arguments,1)))):void 0}),u(h,t,i,r,n,f||o)}))},e.fn.off=function(t,n,r){var i=this;return t&&!v(t)?(e.each(t,function(e,t){i.off(e,n,t)}),i):(v(n)||d(r)||r===!1||(r=n,n=c),r===!1&&(r=S),i.each(function(){a(this,t,r,n)}))},e.fn.trigger=function(t,n){return t=v(t)||e.isPlainObject(t)?e.Event(t):f(t),t._args=n,this.each(function(){t.type in b&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var i,s;return this.each(function(o,u){i=l(v(t)?e.Event(t):t),i._args=r,i.target=u,e.each(n(u,t.type||t),function(e,t){return s=t.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),s},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){v(e)||(t=e,e=t.type);var n=document.createEvent(g[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),f(n)}}(Zepto),!function(a){function b(e,t,n){var r=a.Event(t);return a(e).trigger(r,n),!r.isDefaultPrevented()}function c(e,t,n,r){return e.global?b(t||s,n,r):void 0}function d(e){e.global&&0===a.active++&&c(e,null,"ajaxStart")}function e(e){e.global&&!--a.active&&c(e,null,"ajaxStop")}function f(e,t){var n=t.context;return t.beforeSend.call(n,e,t)===!1||c(t,n,"ajaxBeforeSend",[e,t])===!1?!1:void c(t,n,"ajaxSend",[e,t])}function g(e,t,n,r){var s=n.context,o="success";n.success.call(s,e,o,t),r&&r.resolveWith(s,[e,o,t]),c(n,s,"ajaxSuccess",[t,n,e]),i(o,t,n)}function h(e,t,n,r,s){var o=r.context;r.error.call(o,n,t,e),s&&s.rejectWith(o,[n,t,e]),c(r,o,"ajaxError",[n,r,e||t]),i(t,n,r)}function i(t,n,r){var i=r.context;r.complete.call(i,n,t),c(r,i,"ajaxComplete",[n,r]),e(r)}function j(){}function k(e){return e&&(e=e.split(";",2)[0]),e&&(e==x?"html":e==w?"json":u.test(e)?"script":v.test(e)&&"xml")||"text"}function l(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function m(e){e.processData&&e.data&&"string"!=a.type(e.data)&&(e.data=a.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=l(e.url,e.data),e.data=void 0)}function n(e,t,n,r){return a.isFunction(t)&&(r=n,n=t,t=void 0),a.isFunction(n)||(r=n,n=void 0),{url:e,data:t,success:n,dataType:r}}function o(e,t,n,r){var i,s=a.isArray(t),u=a.isPlainObject(t);a.each(t,function(t,f){i=a.type(f),r&&(t=n?r:r+"["+(u||"object"==i||"array"==i?t:"")+"]"),!r&&s?e.add(f.name,f.value):"array"==i||!n&&"object"==i?o(e,f,n,t):e.add(t,f)})}var p,q,r=0,s=window.document,t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,w="application/json",x="text/html",y=/^\s*$/,z=s.createElement("a");z.href=window.location.href,a.active=0,a.ajaxJSONP=function(e,t){if("type"in e){var n,i,o=e.jsonpCallback,u=(a.isFunction(o)?o():o)||"jsonp"+ ++r,l=s.createElement("script"),c=window[u],p=function(e){a(l).triggerHandler("error",e||"abort")},d={abort:p};return t&&t.promise(d),a(l).on("load error",function(r,s){clearTimeout(i),a(l).off().remove(),"error"!=r.type&&n?g(n[0],d,e,t):h(null,s||"error",d,e,t),window[u]=c,n&&a.isFunction(c)&&c(n[0]),c=n=void 0}),f(d,e)===!1?(p("abort"),d):(window[u]=function(){n=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+u),s.head.appendChild(l),e.timeout>0&&(i=setTimeout(function(){p("timeout")},e.timeout)),d)}return a.ajax(e)},a.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:w,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(b){var c,e,i=a.extend({},b||{}),n=a.Deferred&&a.Deferred();for(p in a.ajaxSettings)void 0===i[p]&&(i[p]=a.ajaxSettings[p]);d(i),i.crossDomain||(c=s.createElement("a"),c.href=i.url,c.href=c.href,i.crossDomain=z.protocol+"//"+z.host!=c.protocol+"//"+c.host),i.url||(i.url=window.location.toString()),(e=i.url.indexOf("#"))>-1&&(i.url=i.url.slice(0,e)),m(i);var o=i.dataType,r=/\?.+=\?/.test(i.url);if(r&&(o="jsonp"),i.cache!==!1&&(b&&b.cache===!0||"script"!=o&&"jsonp"!=o)||(i.url=l(i.url,"_="+Date.now())),"jsonp"==o)return r||(i.url=l(i.url,i.jsonp?i.jsonp+"=?":i.jsonp===!1?"":"callback=?")),a.ajaxJSONP(i,n);var t,u=i.accepts[o],v={},w=function(e,t){v[e.toLowerCase()]=[e,t]},x=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,A=i.xhr(),B=A.setRequestHeader;if(n&&n.promise(A),i.crossDomain||w("X-Requested-With","XMLHttpRequest"),w("Accept",u||"*/*"),(u=i.mimeType||u)&&(u.indexOf(",")>-1&&(u=u.split(",",2)[0]),A.overrideMimeType&&A.overrideMimeType(u)),(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())&&w("Content-Type",i.contentType||"application/x-www-form-urlencoded"),i.headers)for(q in i.headers)w(q,i.headers[q]);if(A.setRequestHeader=w,A.onreadystatechange=function(){if(4==A.readyState){A.onreadystatechange=j,clearTimeout(t);var b,c=!1;if(A.status>=200&&A.status<300||304==A.status||0==A.status&&"file:"==x){o=o||k(i.mimeType||A.getResponseHeader("content-type")),b=A.responseText;try{"script"==o?(1,eval)(b):"xml"==o?b=A.responseXML:"json"==o&&(b=y.test(b)?null:a.parseJSON(b))}catch(d){c=d}c?h(c,"parsererror",A,i,n):g(b,A,i,n)}else h(A.statusText||null,A.status?"error":"abort",A,i,n)}},f(A,i)===!1)return A.abort(),h(null,"abort",A,i,n),A;if(i.xhrFields)for(q in i.xhrFields)A[q]=i.xhrFields[q];var C="async"in i?i.async:!0;A.open(i.type,i.url,C,i.username,i.password);for(q in v)B.apply(A,v[q]);return i.timeout>0&&(t=setTimeout(function(){A.onreadystatechange=j,A.abort(),h(null,"timeout",A,i,n)},i.timeout)),A.send(i.data?i.data:null),A},a.get=function(){return a.ajax(n.apply(null,arguments))},a.post=function(){var e=n.apply(null,arguments);return e.type="POST",a.ajax(e)},a.getJSON=function(){var e=n.apply(null,arguments);return e.dataType="json",a.ajax(e)},a.fn.load=function(e,r,i){if(!this.length)return this;var s,o=this,u=e.split(/\s/),f=n(e,r,i),l=f.success;return u.length>1&&(f.url=u[0],s=u[1]),f.success=function(e){o.html(s?a("<div>").html(e.replace(t,"")).find(s):e),l&&l.apply(o,arguments)},a.ajax(f),this};var A=encodeURIComponent;a.param=function(e,t){var n=[];return n.add=function(e,t){a.isFunction(t)&&(t=t()),null==t&&(t=""),this.push(A(e)+"="+A(t))},o(n,e,t),n.join("&").replace(/%20/g,"+")}}(Zepto),!function(e,t){function n(n,r,i,s,o){"function"!=typeof r||o||(o=r,r=t);var u={opacity:i};return s&&(u.scale=s,n.css(e.fx.cssPrefix+"transform-origin","0 0")),n.animate(u,r,null,o)}function r(t,r,i,s){return n(t,r,0,i,function(){o.call(e(this)),s&&s.call(this)})}var i=window.document,s=(i.documentElement,e.fn.show),o=e.fn.hide,u=e.fn.toggle;e.fn.show=function(e,r){return s.call(this),e===t?e=0:this.css("opacity",0),n(this,e,1,"1,1",r)},e.fn.hide=function(e,n){return e===t?o.call(this):r(this,e,"0,0",n)},e.fn.toggle=function(n,r){return n===t||"boolean"==typeof n?u.call(this,n):this.each(function(){var t=e(this);t["none"==t.css("display")?"show":"hide"](n,r)})},e.fn.fadeTo=function(e,t,r){return n(this,e,t,null,r)},e.fn.fadeIn=function(e,t){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,s.call(this).fadeTo(e,n,t)},e.fn.fadeOut=function(e,t){return r(this,e,null,t)},e.fn.fadeToggle=function(t,n){return this.each(function(){var r=e(this);r[0==r.css("opacity")||"none"==r.css("display")?"fadeIn":"fadeOut"](t,n)})}}(Zepto),!function(e){function t(t,r){var a=t[u],f=a&&i[a];if(void 0===r)return f||n(t);if(f){if(r in f)return f[r];var l=o(r);if(l in f)return f[l]}return s.call(e(t),r)}function n(t,n,s){var a=t[u]||(t[u]=++e.uuid),f=i[a]||(i[a]=r(t));return void 0!==n&&(f[o(n)]=s),f}function r(t){var n={};return e.each(t.attributes||a,function(t,r){0==r.name.indexOf("data-")&&(n[o(r.name.replace("data-",""))]=e.zepto.deserializeValue(r.value))}),n}var i={},s=e.fn.data,o=e.camelCase,u=e.expando="Zepto"+ +(new Date),a=[];e.fn.data=function(r,i){return void 0===i?e.isPlainObject(r)?this.each(function(t,i){e.each(r,function(e,t){n(i,e,t)})}):0 in this?t(this[0],r):void 0:this.each(function(){n(this,r,i)})},e.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var n=this[u],r=n&&i[n];r&&e.each(t||r,function(e){delete r[t?o(this):e]})})},["remove","empty"].forEach(function(t){var n=e.fn[t];e.fn[t]=function(){var e=this.find("*");return"remove"===t&&(e=e.add(this)),e.removeData(),n.call(this)}})}(Zepto),!function(e){function t(n){var r=[["resolve","done",e.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",e.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",e.Callbacks({memory:1})]],i="pending",s={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var n=arguments;return t(function(t){e.each(r,function(r,i){var u=e.isFunction(n[r])&&n[r];o[i[1]](function(){var n=u&&u.apply(this,arguments);if(n&&e.isFunction(n.promise))n.promise().done(t.resolve).fail(t.reject).progress(t.notify);else{var r=this===s?t.promise():this,o=u?[n]:arguments;t[i[0]+"With"](r,o)}})}),n=null}).promise()},promise:function(t){return null!=t?e.extend(t,s):s}},o={};return e.each(r,function(e,t){var n=t[2],u=t[3];s[t[1]]=n.add,u&&n.add(function(){i=u},r[1^e][2].disable,r[2][2].lock),o[t[0]]=function(){return o[t[0]+"With"](this===o?s:this,arguments),this},o[t[0]+"With"]=n.fireWith}),s.promise(o),n&&n.call(o,o),o}var n=Array.prototype.slice;e.when=function(r){var i,s,o,u=n.call(arguments),a=u.length,f=0,l=1!==a||r&&e.isFunction(r.promise)?a:0,c=1===l?r:t(),h=function(e,t,r){return function(s){t[e]=this,r[e]=arguments.length>1?n.call(arguments):s,r===i?c.notifyWith(t,r):--l||c.resolveWith(t,r)}};if(a>1)for(i=new Array(a),s=new Array(a),o=new Array(a);a>f;++f)u[f]&&e.isFunction(u[f].promise)?u[f].promise().done(h(f,o,u)).fail(c.reject).progress(h(f,s,i)):--l;return l||c.resolveWith(o,u),c.promise()},e.Deferred=t}(Zepto),!function(e){e.Callbacks=function(t){t=e.extend({},t);var n,r,i,s,o,u,a=[],f=!t.once&&[],l=function(e){for(n=t.memory&&e,r=!0,u=s||0,s=0,o=a.length,i=!0;a&&o>u;++u)if(a[u].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a.length=0:c.disable())},c={add:function(){if(a){var r=a.length,u=function(n){e.each(n,function(e,n){"function"==typeof n?t.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!=typeof n&&u(n)})};u(arguments),i?o=a.length:n&&(s=r,l(n))}return this},remove:function(){return a&&e.each(arguments,function(t,n){for(var r;(r=e.inArray(n,a,r))>-1;)a.splice(r,1),i&&(o>=r&&--o,u>=r&&--u)}),this},has:function(t){return!!a&&!!(t?e.inArray(t,a)>-1:a.length)},empty:function(){return o=a.length=0,this},disable:function(){return a=f=n=void 0,this},disabled:function(){return!a},lock:function(){return f=void 0,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return!a||r&&!f||(t=t||[],t=[e,t.slice?t.slice():t],i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments)},fired:function(){return!!r}};return c}}(Zepto),!function(e){function t(t){return t=e(t),(!!t.width()||!!t.height())&&"none"!==t.css("display")}function n(e,t){e=e.replace(/=#\]/g,'="#"]');var n,r,i=u.exec(e);if(i&&i[2]in o&&(n=o[i[2]],r=i[3],e=i[1],r)){var s=Number(r);r=isNaN(s)?r.replace(/^["']|["']$/g,""):s}return t(e,n,r)}var r=e.zepto,i=r.qsa,s=r.matches,o=e.expr[":"]={visible:function(){return t(this)?this:void 0},hidden:function(){return t(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(e){return 0===e?this:void 0},last:function(e,t){return e===t.length-1?this:void 0},eq:function(e,t,n){return e===n?this:void 0},contains:function(t,n,r){return e(this).text().indexOf(r)>-1?this:void 0},has:function(e,t,n){return r.qsa(this,n).length?this:void 0}},u=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),a=/^\s*>/,f="Zepto"+ +(new Date);r.qsa=function(t,s){return n(s,function(n,o,u){try{var l;!n&&o?n="*":a.test(n)&&(l=e(t).addClass(f),n="."+f+" "+n);var c=i(t,n)}catch(h){throw console.error("error performing selector: %o",s),h}finally{l&&l.removeClass(f)}return o?r.uniq(e.map(c,function(e,t){return o.call(e,t,c,u)})):c})},r.matches=function(e,t){return n(t,function(t,n,r){return!(t&&!s(e,t)||n&&n.call(e,null,r)!==e)})}}(Zepto),!function(e){function t(e){return"tagName"in e?e:e.parentNode}if(e.os.ios){var n,r={};e(document).bind("gesturestart",function(e){var i=Date.now();i-(r.last||i),r.target=t(e.target),n&&clearTimeout(n),r.e1=e.scale,r.last=i}).bind("gesturechange",function(e){r.e2=e.scale}).bind("gestureend",function(){r.e2>0?(0!=Math.abs(r.e1-r.e2)&&e(r.target).trigger("pinch")&&e(r.target).trigger("pinch"+(r.e1-r.e2>0?"In":"Out")),r.e1=r.e2=r.last=0):"last"in r&&(r={})}),["pinch","pinchIn","pinchOut"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}}(Zepto),!function(e,t){function n(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function r(e){return i?i+e:e.toLowerCase()}var i,s,o,u,a,f,l,c,h,p,d="",v={Webkit:"webkit",Moz:"",O:"o"},m=document.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};e.each(v,function(e,n){return m.style[e+"TransitionProperty"]!==t?(d="-"+e.toLowerCase()+"-",i=n,!1):void 0}),s=d+"transform",y[o=d+"transition-property"]=y[u=d+"transition-duration"]=y[f=d+"transition-delay"]=y[a=d+"transition-timing-function"]=y[l=d+"animation-name"]=y[c=d+"animation-duration"]=y[p=d+"animation-delay"]=y[h=d+"animation-timing-function"]="",e.fx={off:i===t&&m.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:d,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},e.fn.animate=function(n,r,i,s,o){return e.isFunction(r)&&(s=r,i=t,r=t),e.isFunction(i)&&(s=i,i=t),e.isPlainObject(r)&&(i=r.easing,s=r.complete,o=r.delay,r=r.duration),r&&(r=("number"==typeof r?r:e.fx.speeds[r]||e.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(n,r,i,s,o)},e.fn.anim=function(r,i,d,v,m){var b,w,E,S={},x="",T=this,N=e.fx.transitionEnd,C=!1;if(i===t&&(i=e.fx.speeds._default/1e3),m===t&&(m=0),e.fx.off&&(i=0),"string"==typeof r)S[l]=r,S[c]=i+"s",S[p]=m+"s",S[h]=d||"linear",N=e.fx.animationEnd;else{w=[];for(b in r)g.test(b)?x+=b+"("+r[b]+") ":(S[b]=r[b],w.push(n(b)));x&&(S[s]=x,w.push(s)),i>0&&"object"==typeof r&&(S[o]=w.join(", "),S[u]=i+"s",S[f]=m+"s",S[a]=d||"linear")}return E=function(t){if("undefined"!=typeof t){if(t.target!==t.currentTarget)return;e(t.target).unbind(N,E)}else e(this).unbind(N,E);C=!0,e(this).css(y),v&&v.call(this)},i>0&&(this.bind(N,E),setTimeout(function(){C||E.call(T)},1e3*(i+m)+25)),this.size()&&this.get(0).clientLeft,this.css(S),0>=i&&setTimeout(function(){T.each(function(){E.call(this)})},0),this},m=null}(Zepto),!function(e){e.fn.end=function(){return this.prevObject||e()},e.fn.andSelf=function(){return this.add(this.prevObject||e())},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(t){var n=e.fn[t];e.fn[t]=function(){var e=n.apply(this,arguments);return e.prevObject=this,e}})}(Zepto),!function(e){var t,n=[];e.fn.remove=function(){return this.each(function(){this.parentNode&&("IMG"===this.tagName&&(n.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",t&&clearTimeout(t),t=setTimeout(function(){n=[]},6e4)),this.parentNode.removeChild(this))})}}(Zepto),!function(e){function t(t){return e.adaptObject(this,r,t,n,i,"loading")}var n='<div class="ui-loading-block show"><div class="ui-loading-cnt"><i class="ui-loading-bright"></i><p><%=content%></p></div></div>',r={content:"加载中..."},i=function(t,n,i){this.element=e(t),this._isFromTpl=i,this.option=e.extend(r,n),this.show()};i.prototype={show:function(){var t=e.Event("loading:show");this.element.trigger(t),this.element.show()},hide:function(){var t=e.Event("loading:hide");this.element.trigger(t),this.element.remove()}},e.fn.loading=e.loading=t}(window.Zepto),!function(e){function t(t,r){var a=t[u],f=a&&i[a];if(void 0===r)return f||n(t);if(f){if(r in f)return f[r];var l=o(r);if(l in f)return f[l]}return s.call(e(t),r)}function n(t,n,s){var a=t[u]||(t[u]=++e.uuid),f=i[a]||(i[a]=r(t));return void 0!==n&&(f[o(n)]=s),f}function r(t){var n={};return e.each(t.attributes||a,function(t,r){0==r.name.indexOf("data-")&&(n[o(r.name.replace("data-",""))]=e.zepto.deserializeValue(r.value))}),n}var i={},s=e.fn.data,o=e.camelCase,u=e.expando="Zepto"+ +(new Date),a=[];e.fn.data=function(r,i){return void 0===i?e.isPlainObject(r)?this.each(function(t,i){e.each(r,function(e,t){n(i,e,t)})}):0 in this?t(this[0],r):void 0:this.each(function(){n(this,r,i)})},e.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var n=this[u],r=n&&i[n];r&&e.each(t||r,function(e){delete r[t?o(this):e]})})},["remove","empty"].forEach(function(t){var n=e.fn[t];e.fn[t]=function(){var e=this.find("*");return"remove"===t&&(e=e.add(this)),e.removeData(),n.call(this)}})}(window.Zepto),!function(e){var t={};t.cache={},e.tpl=function(e,n,r){var i=/[^\w\-\.:]/.test(e)?function(e,t){var n,r=[],s=[];for(n in e)r.push(n),s.push(e[n]);return(new Function(r,i.code)).apply(t||e,s)}:t.cache[e]=t.cache[e]||this.get(document.getElementById(e).innerHTML);return i.code=i.code||"var $parts=[]; $parts.push('"+e.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/(^|%>)[^\t]*/g,function(e){return e.replace(/'/g,"\\'")}).replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("$parts.push('")+"'); return $parts.join('');",n?i(n,r):i},e.adaptObject=function(t,n,r,i,s,o){var u=t;if("string"!=typeof r){var a=e.extend({},n,"object"==typeof r&&r),f=!1;e.isArray(u)&&u.length&&"script"==e(u)[0].nodeName.toLowerCase()?(u=e(e.tpl(u[0].innerHTML,a)).appendTo("body"),f=!0):e.isArray(u)&&u.length&&""==u.selector?(u=e(e.tpl(u[0].outerHTML,a)).appendTo("body"),f=!0):e.isArray(u)||(u=e(e.tpl(i,a)).appendTo("body"),f=!0)}return u.each(function(){var t=e(this),i=t.data("fz."+o);i||t.data("fz."+o,i=new s(this,e.extend({},n,"object"==typeof r&&r),f)),"string"==typeof r&&i[r]()})}}(window.Zepto),!function(e){function t(){return!1}function n(t){return e.adaptObject(this,i,t,r,s,"dialog")}var r='<div class="ui-dialog"><div class="ui-dialog-cnt"><div class="ui-dialog-bd"><div><h4><%=title%></h4><div><%=content%></div></div></div><div class="ui-dialog-ft ui-btn-group"><% for (var i = 0; i < button.length; i++) { %><% if (i == select) { %><button type="button" data-role="button"  class="select" id="dialogButton<%=i%>"><%=button[i]%></button><% } else { %><button type="button" data-role="button" id="dialogButton<%=i%>"><%=button[i]%></div><% } %><% } %></div></div></div>',i={title:"",content:"",button:["确认"],select:0,allowScroll:!1,callback:function(){}},s=function(t,n,r){this.option=e.extend(i,n),this.element=e(t),this._isFromTpl=r,this.button=e(t).find('[data-role="button"]'),this._bindEvent(),this.toggle()};s.prototype={_bindEvent:function(){var t=this;t.button.on("tap",function(){var n=e(t.button).index(e(this)),r=e.Event("dialog:action");r.index=n,t.element.trigger(r),t.hide.apply(t)})},toggle:function(){this.element.hasClass("show")?this.hide():this.show()},show:function(){var n=this;n.element.trigger(e.Event("dialog:show")),n.element.addClass("show"),this.option.allowScroll&&n.element.on("touchmove",t)},hide:function(){var n=this;n.element.trigger(e.Event("dialog:hide")),n.element.off("touchmove",t),n.element.removeClass("show"),n._isFromTpl&&n.element.remove()}},e.fn.dialog=e.dialog=n}(window.Zepto),!function(e){function t(t){return e.adaptObject(this,r,t,n,i,"tips")}var n='<div class="ui-poptips ui-poptips-<%=type%>"><div class="ui-poptips-cnt"><i></i><%=content%></div></div>',r={content:"",stayTime:1e3,type:"info",callback:function(){}},i=function(t,n,i){var s=this;this.element=e(t),this._isFromTpl=i,this.elementHeight=e(t).height(),this.option=e.extend(r,n),e(t).css({"-webkit-transform":"translateY(-"+this.elementHeight+"px)"}),setTimeout(function(){e(t).css({"-webkit-transition":"all .5s"}),s.show()},20)};i.prototype={show:function(){var t=this;t.element.trigger(e.Event("tips:show")),this.element.css({"-webkit-transform":"translateY(0px)"}),t.option.stayTime>0&&setTimeout(function(){t.hide()},t.option.stayTime)},hide:function(){var t=this;t.element.trigger(e.Event("tips:hide")),this.element.css({"-webkit-transform":"translateY(-"+this.elementHeight+"px)"}),setTimeout(function(){t._isFromTpl&&t.element.remove()},500)}},e.fn.tips=e.tips=t}(window.Zepto),!function(e){function t(t,n){this.wrapper="string"==typeof t?e(t)[0]:t,this.options={startX:0,startY:0,scrollY:!0,scrollX:!1,directionLockThreshold:5,momentum:!0,duration:300,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,eventPassthrough:!0,freeScroll:!1,bindToWrapper:!0,resizePolling:60,disableMouse:!1,disableTouch:!1,disablePointer:!1,tap:!0,click:!1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in n)this.options[i]=n[i];if(this.options.role||this.options.scrollX!==!1||(this.options.eventPassthrough="horizontal"),"slider"===this.options.role){if(this.options.scrollX=!0,this.options.scrollY=!1,this.options.momentum=!1,this.scroller=e(".ui-slider-content")[0],e(this.scroller.children[0]).addClass("current"),this.currentPage=0,this.count=this.scroller.children.length,this.scroller.style.width=this.count+"00%",this.itemWidth=this.scroller.children[0].clientWidth,this.scrollWidth=this.itemWidth*this.count,this.options.indicator){for(var s='<ul class="ui-slider-indicators">',i=1;i<=this.count;i++)s+=1===i?'<li class="current">'+i+"</li>":"<li>"+i+"</li>";s+="</ul>",e(this.wrapper).append(s),this.indicator=e(".ui-slider-indicators")[0]}}else"tab"===this.options.role?(this.options.scrollX=!0,this.options.scrollY=!1,this.options.momentum=!1,this.scroller=e(".ui-tab-content")[0],this.nav=e(".ui-tab-nav")[0],e(this.scroller.children[0]).addClass("current"),e(this.nav.children[0]).addClass("current"),this.currentPage=0,this.count=this.scroller.children.length,this.scroller.style.width=this.count+"00%",this.itemWidth=this.scroller.children[0].clientWidth,this.scrollWidth=this.itemWidth*this.count):this.scroller=this.wrapper.children[0];if(this.scrollerStyle=this.scroller.style,this.translateZ=r.hasPerspective&&this.options.HWCompositing?" translateZ(0)":"",this.options.useTransition=r.hasTransition&&this.options.useTransition,this.options.useTransform=r.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.useTransform===!1&&(this.scroller.style.position="relative"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable(),this.options.autoplay){var o=this;this.options.interval=this.options.interval||2e3,this.options.flag=setTimeout(function(){o._autoplay.apply(o)},o.options.interval)}}var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},r=function(){function e(e){return r===!1?!1:""===r?e:r+e.charAt(0).toUpperCase()+e.substr(1)}var t={},n=document.createElement("div").style,r=function(){for(var e,t=["t","webkitT","MozT","msT","OT"],r=0,i=t.length;i>r;r++)if(e=t[r]+"ransform",e in n)return t[r].substr(0,t[r].length-1);return!1}();t.getTime=Date.now||function(){return(new Date).getTime()},t.extend=function(e,t){for(var n in t)e[n]=t[n]},t.addEvent=function(e,t,n,r){e.addEventListener(t,n,!!r)},t.removeEvent=function(e,t,n,r){e.removeEventListener(t,n,!!r)},t.prefixPointerEvent=function(e){return window.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e},t.momentum=function(e,t,n,r,i,s){var o,u,a=e-t,f=Math.abs(a)/n;return s=void 0===s?6e-4:s,o=e+f*f/(2*s)*(0>a?-1:1),u=f/s,r>o?(o=i?r-i/2.5*(f/8):r,a=Math.abs(o-e),u=a/f):o>0&&(o=i?i/2.5*(f/8):0,a=Math.abs(e)+o,u=a/f),{destination:Math.round(o),duration:u}};var i=e("transform");return t.extend(t,{hasTransform:i!==!1,hasPerspective:e("perspective")in n,hasTouch:"ontouchstart"in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:e("transition")in n}),t.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion),t.extend(t.style={},{transform:i,transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin"),transitionProperty:e("transitionProperty")}),t.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},t.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},t.extend(t.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),t.extend(t.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return Math.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){var t=4;return(e-=1)*e*((t+1)*e+t)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){var t=.22,n=.4;return 0===e?0:1==e?1:n*Math.pow(2,-10*e)*Math.sin(2*(e-t/4)*Math.PI/t)+1}}}),t.tap=function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)},t.click=function(e){var t,n=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(t=document.createEvent("MouseEvents"),t.initMouseEvent("click",!0,!0,e.view,1,n.screenX,n.screenY,n.clientX,n.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),t._constructed=!0,n.dispatchEvent(t))},t}();t.prototype={_init:function(){this._initEvents()},_initEvents:function(e){var t=e?r.removeEvent:r.addEvent,n=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(n,"mousemove",this),t(n,"mousecancel",this),t(n,"mouseup",this)),r.hasPointer&&!this.options.disablePointer&&(t(this.wrapper,r.prefixPointerEvent("pointerdown"),this),t(n,r.prefixPointerEvent("pointermove"),this),t(n,r.prefixPointerEvent("pointercancel"),this),t(n,r.prefixPointerEvent("pointerup"),this)),r.hasTouch&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(n,"touchmove",this),t(n,"touchcancel",this),t(n,"touchend",this)),t(this.scroller,"transitionend",this),t(this.scroller,"webkitTransitionEnd",this),t(this.scroller,"oTransitionEnd",this),t(this.scroller,"MSTransitionEnd",this),"tab"===this.options.role&&(t(this.nav,"touchend",this),t(this.nav,"mouseup",this),t(this.nav,"pointerup",this))},refresh:function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var e=window.getComputedStyle(this.wrapper,null),t=e["padding-top"].replace(/[^-\d.]/g,""),n=e["padding-bottom"].replace(/[^-\d.]/g,""),i=e["padding-left"].replace(/[^-\d.]/g,""),s=e["padding-right"].replace(/[^-\d.]/g,""),o=window.getComputedStyle(this.scroller,null),u=o["margin-top"].replace(/[^-\d.]/g,""),a=o["margin-bottom"].replace(/[^-\d.]/g,""),f=o["margin-left"].replace(/[^-\d.]/g,""),l=o["margin-right"].replace(/[^-\d.]/g,"");this.scrollerWidth=this.scroller.offsetWidth+parseInt(i)+parseInt(s)+parseInt(f)+parseInt(l),this.scrollerHeight=this.scroller.offsetHeight+parseInt(t)+parseInt(n)+parseInt(u)+parseInt(a),("slider"===this.options.role||"tab"===this.options.role)&&(this.itemWidth=this.scroller.children[0].clientWidth,this.scrollWidth=this.itemWidth*this.count,this.scrollerWidth=this.scrollWidth),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=r.offset(this.wrapper),this.resetPosition()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":e._constructed||(e.preventDefault(),e.stopPropagation())}},_start:function(e){if(!(1!=r.eventType[e.type]&&0!==e.button||!this.enabled||this.initiated&&r.eventType[e.type]!==this.initiated)){!this.options.preventDefault||r.isBadAndroid||r.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t,n=e.touches?e.touches[0]:e;if(this.initiated=r.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=r.getTime(),this.options.useTransition&&this.isInTransition&&"slider"!==this.options.role&&"tab"!==this.options.role?(this.isInTransition=!1,t=this.getComputedPosition(),this._translate(Math.round(t.x),Math.round(t.y))):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this.options.autoplay){var i=this;clearTimeout(this.options.flag),this.options.flag=setTimeout(function(){i._autoplay.apply(i)},i.options.interval)}event.stopPropagation()}},_move:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var n,i,s,o,u=t.touches?t.touches[0]:t,a=u.pageX-this.pointX,f=u.pageY-this.pointY,l=r.getTime();if(this.pointX=u.pageX,this.pointY=u.pageY,this.distX+=a,this.distY+=f,s=Math.abs(this.distX),o=Math.abs(this.distY),!(l-this.endTime>300&&10>s&&10>o)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=s>o+this.options.directionLockThreshold?"h":o>=s+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("tab"===this.options.role&&e(this.scroller).children("li").height("auto"),"vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void (this.initiated=!1);f=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void (this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,f=this.hasVerticalScroll?f:0,n=this.x+a,i=this.y+f,(n>0||n<this.maxScrollX)&&(n=this.options.bounce?this.x+a/3:n>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+f/3:i>0?0:this.maxScrollY),this.directionX=a>0?-1:0>a?1:0,this.directionY=f>0?-1:0>f?1:0,this.moved=!0,this._translate(n,i),l-this.startTime>300&&(this.startTime=l,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var n,i,s=(t.changedTouches?t.changedTouches[0]:t,r.getTime()-this.startTime),o=Math.round(this.x),u=Math.round(this.y),a=Math.abs(o-this.startX),f=(Math.abs(u-this.startY),0),l="";if(this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),this.resetPosition(this.options.bounceTime))return void ("tab"===this.options.role&&e(this.scroller.children[this.currentPage]).siblings("li").height(0));if(this.scrollTo(o,u),this.moved||(this.options.tap&&1===r.eventType[t.type]&&r.tap(t,this.options.tap),this.options.click&&r.click(t)),this.options.momentum&&300>s&&(n=this.hasHorizontalScroll?r.momentum(this.x,this.startX,s,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},i=this.hasVerticalScroll?r.momentum(this.y,this.startY,s,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:u,duration:0},o=n.destination,u=i.destination,f=Math.max(n.duration,i.duration),this.isInTransition=1),o!=this.x||u!=this.y)return(o>0||o<this.maxScrollX||u>0||u<this.maxScrollY)&&(l=r.ease.quadratic),void this.scrollTo(o,u,f,l);if("tab"===this.options.role&&e(event.target).closest("ul").hasClass("ui-tab-nav")){e(this.nav).children().removeClass("current"),e(event.target).addClass("current");var c=this.currentPage;this.currentPage=e(event.target).index(),e(this.scroller).children().height("auto"),this._execEvent("beforeScrollStart",c,this.currentPage)}("slider"===this.options.role||"tab"===this.options.role)&&(30>a?this.scrollTo(-this.itemWidth*this.currentPage,0,this.options.bounceTime,this.options.bounceEasing):o-this.startX<0?(this._execEvent("beforeScrollStart",this.currentPage,this.currentPage+1),this.scrollTo(-this.itemWidth*++this.currentPage,0,this.options.bounceTime,this.options.bounceEasing)):o-this.startX>=0&&(this._execEvent("beforeScrollStart",this.currentPage,this.currentPage-1),this.scrollTo(-this.itemWidth*--this.currentPage,0,this.options.bounceTime,this.options.bounceEasing)),"tab"===this.options.role&&e(this.scroller.children[this.currentPage]).siblings("li").height(0),this.indicator&&a>=30?(e(this.indicator).children().removeClass("current"),e(this.indicator.children[this.currentPage]).addClass("current")):this.nav&&a>=30&&(e(this.nav).children().removeClass("current"),e(this.nav.children[this.currentPage]).addClass("current")),e(this.scroller).children().removeClass("current"),e(this.scroller.children[this.currentPage]).addClass("current"))}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd",this.currentPage)))},destroy:function(){this._initEvents(!0)},resetPosition:function(e){var t=this.x,n=this.y;return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),t==this.x&&n==this.y?!1:(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t);n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;n>t;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollTo:function(e,t,n,i){i=i||r.ease.circular,this.isInTransition=this.options.useTransition&&n>0,!n||this.options.useTransition&&i.style?(("slider"===this.options.role||"tab"===this.options.role)&&(n=this.options.duration,this.scrollerStyle[r.style.transitionProperty]=r.style.transform),this.scrollerStyle[r.style.transitionTimingFunction]=i.style,this._transitionTime(n),this._translate(e,t)):this._animate(e,t,n,i.fn)},scrollToElement:function(e,t,n,i,s){if(e=e.nodeType?e:this.scroller.querySelector(e)){var o=r.offset(e);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,n===!0&&(n=Math.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),i===!0&&(i=Math.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=n||0,o.top-=i||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,t=void 0===t||null===t||"auto"===t?Math.max(Math.abs(this.x-o.left),Math.abs(this.y-o.top)):t,this.scrollTo(o.left,o.top,t,s)}},_transitionTime:function(e){e=e||0,this.scrollerStyle[r.style.transitionDuration]=e+"ms",!e&&r.isBadAndroid&&(this.scrollerStyle[r.style.transitionDuration]="0.001s")},_translate:function(e,t){this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=Math.round(e),t=Math.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t},getComputedPosition:function(){var e,t,n=window.getComputedStyle(this.scroller,null);return this.options.useTransform?(n=n[r.style.transform].split(")")[0].split(", "),e=+(n[12]||n[4]),t=+(n[13]||n[5])):(e=+n.left.replace(/[^-\d.]/g,""),t=+n.top.replace(/[^-\d.]/g,"")),{x:e,y:t}},_animate:function(e,t,i,s){function o(){var p,d,v,m=r.getTime();return m>=c?(u.isAnimating=!1,u._translate(e,t),void (u.resetPosition(u.options.bounceTime)||u._execEvent("scrollEnd",this.currentPage))):(m=(m-l)/i,v=s(m),p=(e-a)*v+a,d=(t-f)*v+f,u._translate(p,d),void (u.isAnimating&&n(o)))}var u=this,a=this.x,f=this.y,l=r.getTime(),c=l+i;this.isAnimating=!0,o()},_autoplay:function(){var t=this,n=t.currentPage;t.currentPage=t.currentPage>=t.count-1?0:++t.currentPage,t._execEvent("beforeScrollStart",n,t.currentPage),"tab"===this.options.role&&(e(this.scroller).children().height("auto"),document.body.scrollTop=0),t.scrollTo(-t.itemWidth*t.currentPage,0,t.options.bounceTime,t.options.bounceEasing),t.indicator?(e(t.indicator).children().removeClass("current"),e(t.indicator.children[t.currentPage]).addClass("current"),e(t.scroller).children().removeClass("current"),e(t.scroller.children[t.currentPage]).addClass("current")):t.nav&&(e(t.nav).children().removeClass("current"),e(t.nav.children[t.currentPage]).addClass("current"),e(t.scroller).children().removeClass("current"),e(t.scroller.children[t.currentPage]).addClass("current")),t.options.flag=setTimeout(function(){t._autoplay.apply(t)},t.options.interval)}},window.fz=window.fz||{},window.frozen=window.frozen||{},window.fz.Scroll=window.frozen.Scroll=t,"function"==typeof define&&define(function(e,n,r){r.exports=t})}(window.Zepto);if("undefined"==typeof Zepto)throw new Error("Parallax.js's script requires Zepto");!function(e){"use strict";function t(){S.loading?e(".wrapper").append('<div class="parallax-loading"><i class="ui-loading ui-loading-white"></i></div>'):T=!1,v=0,d="stay",m=w.length,g=e(window).width(),y=e(window).height(),E=e("[data-animation]");for(var t=0;m>t;t++)e(w[t]).attr("data-id",t+1);b.addClass(S.direction).addClass(S.swipeAnim),w.css({width:g+"px",height:y+"px"}),"horizontal"===S.direction?b.css("width",g*w.length):b.css("height",y*w.length),"cover"===S.swipeAnim&&(b.css({width:g,height:y}),w[0].style.display="block"),S.loading||(e(w[v]).addClass("current"),S.onchange(v,w[v],d),f())}function n(e){return T===!0?(event.preventDefault(),!1):(x=!0,l="horizontal"===S.direction?e.pageX:e.pageY,"default"===S.swipeAnim&&(b.addClass("drag"),p=b.css("-webkit-transform").replace("matrix(","").replace(")","").split(","),p=parseInt("horizontal"===S.direction?p[4]:p[5])),"cover"===S.swipeAnim&&S.drag&&w.addClass("drag"),void (h=1))}function r(e){return T===!0||x===!1?(event.preventDefault(),!1):(event.preventDefault(),c="horizontal"===S.direction?e.pageX:e.pageY,u(),S.drag&&!a()&&s(),void (h=2))}function i(t){T===!0||2!==h||(x=!1,c="horizontal"===S.direction?t.pageX:t.pageY,"default"!==S.swipeAnim||a()?"cover"!==S.swipeAnim||a()||(Math.abs(c-l)<=50&&c>=l&&S.drag?(o(v,"keep-backward"),d="stay"):Math.abs(c-l)<=50&&l>c&&S.drag?(o(v,"keep-forward"),d="stay"):Math.abs(c-l)>50&&c>=l&&S.drag?(o(v-1,"backward"),d="backward"):Math.abs(c-l)>50&&l>c&&S.drag?(o(v+1,"forward"),d="forward"):Math.abs(c-l)>50&&c>=l&&!S.drag?(o(v-1,"backward"),d="backward"):Math.abs(c-l)>50&&l>c&&!S.drag&&(o(v+1,"forward"),d="forward")):(b.removeClass("drag"),Math.abs(c-l)<=50?(o(v),d="stay"):c>=l?(o(v-1),d="backward"):l>c&&(o(v+1),d="forward")),S.indicator&&e(e(".parallax-h-indicator ul li, .parallax-v-indicator ul li").removeClass("current").get(v)).addClass("current"),h=3)}function s(){if("default"===S.swipeAnim){var t=p+c-l;"horizontal"===S.direction?b.css("-webkit-transform","matrix(1, 0, 0, 1, "+t+", 0)"):b.css("-webkit-transform","matrix(1, 0, 0, 1, 0, "+t+")")}else if("cover"===S.swipeAnim){var t=c-l,n=e(w[v-1]),r=e(w[v+1]);e(w).css({"z-index":0}),"horizontal"===S.direction&&c>=l?n.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(t-g)+"px)"}):"horizontal"===S.direction&&l>c?r.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(g+t)+"px)"}):"vertical"===S.direction&&c>=l?n.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(t-y)+"px)"}):"vertical"===S.direction&&l>c&&r.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(y+t)+"px)"})}}function o(t,n){if(v=t,"default"===S.swipeAnim){var r=0;r="horizontal"===S.direction?t*-g:t*-y,b.css("horizontal"===S.direction?{"-webkit-transform":"matrix(1, 0, 0, 1, "+r+", 0)"}:{"-webkit-transform":"matrix(1, 0, 0, 1, 0, "+r+")"})}else"cover"===S.swipeAnim&&("keep-backward"===n&&S.drag?(w.removeClass("drag"),e(w[v-1]).css("horizontal"===S.direction?{"-webkit-transform":"translateX(-100%)"}:{"-webkit-transform":"translateY(-100%)"})):"keep-forward"===n&&S.drag?(w.removeClass("drag"),e(w[v+1]).css("horizontal"===S.direction?{"-webkit-transform":"translateX(100%)"}:{"-webkit-transform":"translateY(100%)"})):"forward"===n&&S.drag?(w.removeClass("drag"),e(w[v-1]).addClass("back"),w[v].style.webkitTransform="translate(0, 0)"):"backward"===n&&S.drag?(w.removeClass("drag"),e(w[v+1]).addClass("back"),w[v].style.webkitTransform="translate(0, 0)"):"forward"!==n||S.drag?"backward"!==n||S.drag||(b.addClass("animate"),e(w[v+1]).addClass("back"),e(w[v]).addClass("front").show()):(b.addClass("animate"),e(w[v-1]).addClass("back"),e(w[v]).addClass("front").show()));T=!0,setTimeout(function(){T=!1},300)}function u(){"horizontal"===S.direction?c>=l?b.removeClass("forward").addClass("backward"):l>c&&b.removeClass("backward").addClass("forward"):c>=l?b.removeClass("forward").addClass("backward"):l>c&&b.removeClass("backward").addClass("forward")}function a(){if("horizontal"===S.direction){if(c>=l&&0===v||l>=c&&v===m-1)return!0}else if(c>=l&&0===v||l>=c&&v===m-1)return!0;return!1}function f(){E.css({"-webkit-animation":"none"}),e(".current [data-animation]").each(function(t,n){var r=e(n),i=r.attr("data-animation"),s=r.attr("data-duration")||500,o=r.attr("data-timing-function")||"ease",u=r.attr("data-delay")?r.attr("data-delay"):0;"followSlide"===i&&("horizontal"===S.direction&&"forward"===d?i="followSlideToLeft":"horizontal"===S.direction&&"backward"===d?i="followSlideToRight":"vertical"===S.direction&&"forward"===d?i="followSlideToTop":"vertical"===S.direction&&"backward"===d&&(i="followSlideToBottom")),r.css({"-webkit-animation":i+" "+s+"ms "+o+" "+u+"ms both",animation:i+" "+s+"ms "+o+" "+u+"ms both"})})}var l,c,h,p,d,v,m,g,y,b,w,E,S,x=!1,T=!0;e.fn.parallax=function(n){return S=e.extend({},e.fn.parallax.defaults,n),this.each(function(){b=e(this),w=b.find(".page"),t()})},e.fn.parallax.defaults={direction:"vertical",swipeAnim:"default",drag:!0,loading:!1,indicator:!1,arrow:!1,onchange:function(){},orientationchange:function(){}},e(document).on("touchstart",".page",function(e){n(e.changedTouches[0])}).on("touchmove",".page",function(e){r(e.changedTouches[0])}).on("touchend",".page",function(e){i(e.changedTouches[0])}).on("webkitAnimationEnd webkitTransitionEnd",".pages",function(){"stay"!==d&&(setTimeout(function(){e(".back").hide().removeClass("back"),e(".front").show().removeClass("front"),b.removeClass("forward backward animate")},10),e(w.removeClass("current").get(v)).addClass("current"),S.onchange(v,w[v],d),f())}),e(".page *").on("webkitAnimationEnd",function(){event.stopPropagation()}),e(window).on("load",function(){if(S.loading&&(e(".parallax-loading").remove(),T=!1,e(w[v]).addClass("current"),S.onchange(v,w[v],d),f()),S.indicator){T=!1;var t="horizontal"===S.direction?"parallax-h-indicator":"parallax-v-indicator";e(".wrapper").append("<div class="+t+"></div>");for(var n="<ul>",r=1;m>=r;r++)n+=1===r?'<li class="current">'+r+"</li>":"<li>"+r+"</li>";n+="</ul>",e("."+t).append(n)}S.arrow&&(w.append('<span class="parallax-arrow"></span>'),e(w[m-1]).find(".parallax-arrow").remove())}),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",function(){(180===window.orientation||0===window.orientation)&&S.orientationchange("portrait"),(90===window.orientation||-90===window.orientation)&&S.orientationchange("landscape")},!1)}(Zepto);
//#../static/modules/mk-meta/index.js
var MetaLoader=function(e,t){var n=Rest.create(e),r={loadList:function(n){r.page=n||r.page||"0",$.ajax({url:"/mkmeta/list/"+e,data:{page:r.page},success:function(e){t.html(e),r.bindAction()}})},bindAction:function(){t.find("a.delete").click(function(){var e=$(this).attr("id");confirm("确定要删除此案例吗？")&&n.remove({id:e},function(e){$.tip(e.message),e.code>0&&r.loadList()})}),t.find("a.edit").click(function(){var e=$(this).attr("id");r.loadMetaEdit(e)}),t.find("button#addcase").click(function(){r.loadMetaEdit()}),t.find(".pager-bar").pager(function(e){r.loadList(e)})},loadMetaEdit:function(t){$.ajax({url:"/mkmeta/editform/"+e,data:{id:t},success:function(e){var t=$("<div id='editwrapper' class='dialog-wrapper'></div>");t.appendTo(document.body),t.html(e),r.bindEditAction(t)}})},bindEditAction:function(e){e.find("button.close").click(function(){e.remove()}),e.find("#image-upload").bindUpload({url:"/mkimg/upload",accept:"image/*",params:{upload_dir:"metaimg"},oncomplate:function(t){var n=e.find("#image-upload").parent().parent();n.find(".up-img").attr("src",t.url).show(),n.find("input.up-url").val(t.url)}}),e.find("button#metasave").click(function(){var t=e.find("#metaform").serializeJson();t.isuse=="on"?t.isuse="1":t.isuse="0",t.istop=="on"?t.istop="1":t.istop="0";if(t.id){var i=t.id;delete t.id,n.update({id:i},t,function(t){$.tip(t.message),t.code>0&&(e.remove(),r.loadList())})}else n.add(t,function(t){$.tip(t.message),t.code>0&&(e.remove(),r.loadList())})})}};return r};
//#../static/modules/mk-rest/js/rest.js
var Rest=window.Rest||{};Rest.create=function(e){return{add:function(t,n){$.ajax({url:"/add/"+e,data:t,type:"post",success:n})},query:function(t,n){$.ajax({url:"/query/"+e,data:t,type:"get",success:n})},get:function(t,n){$.ajax({url:"/get/"+e+"/"+t,type:"get",success:n})},update:function(t,n,r){$.ajax({url:"/update/"+e+"?"+$.param(t),type:"post",data:n,success:r})},remove:function(t,n){$.ajax({url:"/remove/"+e,type:"get",data:t,success:n})},action:function(t,n,r){$.ajax({url:"/action/"+e+"/"+t,type:"post",data:n,success:r})}}};
//#../static/frozen/js/frozen.js
!function(e){function t(t){return e.adaptObject(this,r,t,n,i,"loading")}var n='<div class="ui-loading-block show"><div class="ui-loading-cnt"><i class="ui-loading-bright"></i><p><%=content%></p></div></div>',r={content:"加载中..."},i=function(t,n,i){this.element=e(t),this._isFromTpl=i,this.option=e.extend(r,n),this.show()};i.prototype={show:function(){var t=e.Event("loading:show");this.element.trigger(t),this.element.show()},hide:function(){var t=e.Event("loading:hide");this.element.trigger(t),this.element.remove()}},e.fn.loading=e.loading=t}(window.Zepto),!function(e){function t(t,r){var a=t[u],l=a&&i[a];if(void 0===r)return l||n(t);if(l){if(r in l)return l[r];var p=o(r);if(p in l)return l[p]}return s.call(e(t),r)}function n(t,n,s){var a=t[u]||(t[u]=++e.uuid),f=i[a]||(i[a]=r(t));return void 0!==n&&(f[o(n)]=s),f}function r(t){var n={};return e.each(t.attributes||a,function(t,r){0==r.name.indexOf("data-")&&(n[o(r.name.replace("data-",""))]=e.zepto.deserializeValue(r.value))}),n}var i={},s=e.fn.data,o=e.camelCase,u=e.expando="Zepto"+ +(new Date),a=[];e.fn.data=function(r,i){return void 0===i?e.isPlainObject(r)?this.each(function(t,i){e.each(r,function(e,t){n(i,e,t)})}):0 in this?t(this[0],r):void 0:this.each(function(){n(this,r,i)})},e.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var n=this[u],r=n&&i[n];r&&e.each(t||r,function(e){delete r[t?o(this):e]})})},["remove","empty"].forEach(function(t){var n=e.fn[t];e.fn[t]=function(){var e=this.find("*");return"remove"===t&&(e=e.add(this)),e.removeData(),n.call(this)}})}(window.Zepto),!function(e){var t={};t.cache={},e.tpl=function(e,n,r){var i=/[^\w\-\.:]/.test(e)?function(e,t){var n,r=[],s=[];for(n in e)r.push(n),s.push(e[n]);return(new Function(r,i.code)).apply(t||e,s)}:t.cache[e]=t.cache[e]||this.get(document.getElementById(e).innerHTML);return i.code=i.code||"var $parts=[]; $parts.push('"+e.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/(^|%>)[^\t]*/g,function(e){return e.replace(/'/g,"\\'")}).replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("$parts.push('")+"'); return $parts.join('');",n?i(n,r):i},e.adaptObject=function(t,n,r,i,s,o){var u=t;if("string"!=typeof r){var f=e.extend({},n,"object"==typeof r&&r),l=!1;e.isArray(u)&&u.length&&"script"==e(u)[0].nodeName.toLowerCase()?(u=e(e.tpl(u[0].innerHTML,f)).appendTo("body"),l=!0):e.isArray(u)&&u.length&&""==u.selector?(u=e(e.tpl(u[0].outerHTML,f)).appendTo("body"),l=!0):e.isArray(u)||(u=e(e.tpl(i,f)).appendTo("body"),l=!0)}return u.each(function(){var t=e(this),i=t.data("fz."+o);i||t.data("fz."+o,i=new s(this,e.extend({},n,"object"==typeof r&&r),l)),"string"==typeof r&&i[r]()})}}(window.Zepto),!function(e){function t(){return!1}function n(t){return e.adaptObject(this,i,t,r,s,"dialog")}var r='<div class="ui-dialog"><div class="ui-dialog-cnt"><div class="ui-dialog-bd"><div><h4><%=title%></h4><div><%=content%></div></div></div><div class="ui-dialog-ft ui-btn-group"><% for (var i = 0; i < button.length; i++) { %><% if (i == select) { %><button type="button" data-role="button"  class="select" id="dialogButton<%=i%>"><%=button[i]%></button><% } else { %><button type="button" data-role="button" id="dialogButton<%=i%>"><%=button[i]%></div><% } %><% } %></div></div></div>',i={title:"",content:"",button:["确认"],select:0,allowScroll:!1,callback:function(){}},s=function(t,n,r){this.option=e.extend(i,n),this.element=e(t),this._isFromTpl=r,this.button=e(t).find('[data-role="button"]'),this._bindEvent(),this.toggle()};s.prototype={_bindEvent:function(){var t=this;t.button.on("tap",function(){var n=e(t.button).index(e(this)),r=e.Event("dialog:action");r.index=n,t.element.trigger(r),t.hide.apply(t)})},toggle:function(){this.element.hasClass("show")?this.hide():this.show()},show:function(){var n=this;n.element.trigger(e.Event("dialog:show")),n.element.addClass("show"),this.option.allowScroll&&n.element.on("touchmove",t)},hide:function(){var n=this;n.element.trigger(e.Event("dialog:hide")),n.element.off("touchmove",t),n.element.removeClass("show"),n._isFromTpl&&n.element.remove()}},e.fn.dialog=e.dialog=n}(window.Zepto),!function(e){function t(t){return e.adaptObject(this,r,t,n,i,"tips")}var n='<div class="ui-poptips ui-poptips-<%=type%>"><div class="ui-poptips-cnt"><i></i><%=content%></div></div>',r={content:"",stayTime:1e3,type:"info",callback:function(){}},i=function(t,n,i){var s=this;this.element=e(t),this._isFromTpl=i,this.elementHeight=e(t).height(),this.option=e.extend(r,n),e(t).css({"-webkit-transform":"translateY(-"+this.elementHeight+"px)"}),setTimeout(function(){e(t).css({"-webkit-transition":"all .5s"}),s.show()},20)};i.prototype={show:function(){var t=this;t.element.trigger(e.Event("tips:show")),this.element.css({"-webkit-transform":"translateY(0px)"}),t.option.stayTime>0&&setTimeout(function(){t.hide()},t.option.stayTime)},hide:function(){var t=this;t.element.trigger(e.Event("tips:hide")),this.element.css({"-webkit-transform":"translateY(-"+this.elementHeight+"px)"}),setTimeout(function(){t._isFromTpl&&t.element.remove()},500)}},e.fn.tips=e.tips=t}(window.Zepto),!function(e){function t(t,n){this.wrapper="string"==typeof t?e(t)[0]:t,this.options={startX:0,startY:0,scrollY:!0,scrollX:!1,directionLockThreshold:5,momentum:!0,duration:300,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,eventPassthrough:!0,freeScroll:!1,bindToWrapper:!0,resizePolling:60,disableMouse:!1,disableTouch:!1,disablePointer:!1,tap:!0,click:!1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in n)this.options[i]=n[i];if(this.options.role||this.options.scrollX!==!1||(this.options.eventPassthrough="horizontal"),"slider"===this.options.role){if(this.options.scrollX=!0,this.options.scrollY=!1,this.options.momentum=!1,this.scroller=e(".ui-slider-content")[0],e(this.scroller.children[0]).addClass("current"),this.currentPage=0,this.count=this.scroller.children.length,this.scroller.style.width=this.count+"00%",this.itemWidth=this.scroller.children[0].clientWidth,this.scrollWidth=this.itemWidth*this.count,this.options.indicator){for(var s='<ul class="ui-slider-indicators">',i=1;i<=this.count;i++)s+=1===i?'<li class="current">'+i+"</li>":"<li>"+i+"</li>";s+="</ul>",e(this.wrapper).append(s),this.indicator=e(".ui-slider-indicators")[0]}}else"tab"===this.options.role?(this.options.scrollX=!0,this.options.scrollY=!1,this.options.momentum=!1,this.scroller=e(".ui-tab-content")[0],this.nav=e(".ui-tab-nav")[0],e(this.scroller.children[0]).addClass("current"),e(this.nav.children[0]).addClass("current"),this.currentPage=0,this.count=this.scroller.children.length,this.scroller.style.width=this.count+"00%",this.itemWidth=this.scroller.children[0].clientWidth,this.scrollWidth=this.itemWidth*this.count):this.scroller=this.wrapper.children[0];if(this.scrollerStyle=this.scroller.style,this.translateZ=r.hasPerspective&&this.options.HWCompositing?" translateZ(0)":"",this.options.useTransition=r.hasTransition&&this.options.useTransition,this.options.useTransform=r.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.useTransform===!1&&(this.scroller.style.position="relative"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable(),this.options.autoplay){var o=this;this.options.interval=this.options.interval||2e3,this.options.flag=setTimeout(function(){o._autoplay.apply(o)},o.options.interval)}}var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},r=function(){function e(e){return r===!1?!1:""===r?e:r+e.charAt(0).toUpperCase()+e.substr(1)}var t={},n=document.createElement("div").style,r=function(){for(var e,t=["t","webkitT","MozT","msT","OT"],r=0,i=t.length;i>r;r++)if(e=t[r]+"ransform",e in n)return t[r].substr(0,t[r].length-1);return!1}();t.getTime=Date.now||function(){return(new Date).getTime()},t.extend=function(e,t){for(var n in t)e[n]=t[n]},t.addEvent=function(e,t,n,r){e.addEventListener(t,n,!!r)},t.removeEvent=function(e,t,n,r){e.removeEventListener(t,n,!!r)},t.prefixPointerEvent=function(e){return window.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e},t.momentum=function(e,t,n,r,i,s){var o,u,a=e-t,f=Math.abs(a)/n;return s=void 0===s?6e-4:s,o=e+f*f/(2*s)*(0>a?-1:1),u=f/s,r>o?(o=i?r-i/2.5*(f/8):r,a=Math.abs(o-e),u=a/f):o>0&&(o=i?i/2.5*(f/8):0,a=Math.abs(e)+o,u=a/f),{destination:Math.round(o),duration:u}};var i=e("transform");return t.extend(t,{hasTransform:i!==!1,hasPerspective:e("perspective")in n,hasTouch:"ontouchstart"in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:e("transition")in n}),t.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion),t.extend(t.style={},{transform:i,transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin"),transitionProperty:e("transitionProperty")}),t.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},t.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},t.extend(t.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),t.extend(t.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return Math.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){var t=4;return(e-=1)*e*((t+1)*e+t)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){var t=.22,n=.4;return 0===e?0:1==e?1:n*Math.pow(2,-10*e)*Math.sin(2*(e-t/4)*Math.PI/t)+1}}}),t.tap=function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)},t.click=function(e){var t,n=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(t=document.createEvent("MouseEvents"),t.initMouseEvent("click",!0,!0,e.view,1,n.screenX,n.screenY,n.clientX,n.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),t._constructed=!0,n.dispatchEvent(t))},t}();t.prototype={_init:function(){this._initEvents()},_initEvents:function(e){var t=e?r.removeEvent:r.addEvent,n=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(n,"mousemove",this),t(n,"mousecancel",this),t(n,"mouseup",this)),r.hasPointer&&!this.options.disablePointer&&(t(this.wrapper,r.prefixPointerEvent("pointerdown"),this),t(n,r.prefixPointerEvent("pointermove"),this),t(n,r.prefixPointerEvent("pointercancel"),this),t(n,r.prefixPointerEvent("pointerup"),this)),r.hasTouch&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(n,"touchmove",this),t(n,"touchcancel",this),t(n,"touchend",this)),t(this.scroller,"transitionend",this),t(this.scroller,"webkitTransitionEnd",this),t(this.scroller,"oTransitionEnd",this),t(this.scroller,"MSTransitionEnd",this),"tab"===this.options.role&&(t(this.nav,"touchend",this),t(this.nav,"mouseup",this),t(this.nav,"pointerup",this))},refresh:function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var e=window.getComputedStyle(this.wrapper,null),t=e["padding-top"].replace(/[^-\d.]/g,""),n=e["padding-bottom"].replace(/[^-\d.]/g,""),i=e["padding-left"].replace(/[^-\d.]/g,""),s=e["padding-right"].replace(/[^-\d.]/g,""),o=window.getComputedStyle(this.scroller,null),u=o["margin-top"].replace(/[^-\d.]/g,""),a=o["margin-bottom"].replace(/[^-\d.]/g,""),f=o["margin-left"].replace(/[^-\d.]/g,""),l=o["margin-right"].replace(/[^-\d.]/g,"");this.scrollerWidth=this.scroller.offsetWidth+parseInt(i)+parseInt(s)+parseInt(f)+parseInt(l),this.scrollerHeight=this.scroller.offsetHeight+parseInt(t)+parseInt(n)+parseInt(u)+parseInt(a),("slider"===this.options.role||"tab"===this.options.role)&&(this.itemWidth=this.scroller.children[0].clientWidth,this.scrollWidth=this.itemWidth*this.count,this.scrollerWidth=this.scrollWidth),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=r.offset(this.wrapper),this.resetPosition()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":e._constructed||(e.preventDefault(),e.stopPropagation())}},_start:function(e){if(!(1!=r.eventType[e.type]&&0!==e.button||!this.enabled||this.initiated&&r.eventType[e.type]!==this.initiated)){!this.options.preventDefault||r.isBadAndroid||r.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t,n=e.touches?e.touches[0]:e;if(this.initiated=r.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=r.getTime(),this.options.useTransition&&this.isInTransition&&"slider"!==this.options.role&&"tab"!==this.options.role?(this.isInTransition=!1,t=this.getComputedPosition(),this._translate(Math.round(t.x),Math.round(t.y))):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this.options.autoplay){var i=this;clearTimeout(this.options.flag),this.options.flag=setTimeout(function(){i._autoplay.apply(i)},i.options.interval)}event.stopPropagation()}},_move:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var n,i,s,o,u=t.touches?t.touches[0]:t,f=u.pageX-this.pointX,l=u.pageY-this.pointY,c=r.getTime();if(this.pointX=u.pageX,this.pointY=u.pageY,this.distX+=f,this.distY+=l,s=Math.abs(this.distX),o=Math.abs(this.distY),!(c-this.endTime>300&&10>s&&10>o)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=s>o+this.options.directionLockThreshold?"h":o>=s+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("tab"===this.options.role&&e(this.scroller).children("li").height("auto"),"vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void (this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void (this.initiated=!1);f=0}f=this.hasHorizontalScroll?f:0,l=this.hasVerticalScroll?l:0,n=this.x+f,i=this.y+l,(n>0||n<this.maxScrollX)&&(n=this.options.bounce?this.x+f/3:n>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+l/3:i>0?0:this.maxScrollY),this.directionX=f>0?-1:0>f?1:0,this.directionY=l>0?-1:0>l?1:0,this.moved=!0,this._translate(n,i),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var n,i,s=(t.changedTouches?t.changedTouches[0]:t,r.getTime()-this.startTime),o=Math.round(this.x),u=Math.round(this.y),f=Math.abs(o-this.startX),l=(Math.abs(u-this.startY),0),c="";if(this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),this.resetPosition(this.options.bounceTime))return void ("tab"===this.options.role&&e(this.scroller.children[this.currentPage]).siblings("li").height(0));if(this.scrollTo(o,u),this.moved||(this.options.tap&&1===r.eventType[t.type]&&r.tap(t,this.options.tap),this.options.click&&r.click(t)),this.options.momentum&&300>s&&(n=this.hasHorizontalScroll?r.momentum(this.x,this.startX,s,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},i=this.hasVerticalScroll?r.momentum(this.y,this.startY,s,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:u,duration:0},o=n.destination,u=i.destination,l=Math.max(n.duration,i.duration),this.isInTransition=1),o!=this.x||u!=this.y)return(o>0||o<this.maxScrollX||u>0||u<this.maxScrollY)&&(c=r.ease.quadratic),void this.scrollTo(o,u,l,c);if("tab"===this.options.role&&e(event.target).closest("ul").hasClass("ui-tab-nav")){e(this.nav).children().removeClass("current"),e(event.target).addClass("current");var h=this.currentPage;this.currentPage=e(event.target).index(),e(this.scroller).children().height("auto"),this._execEvent("beforeScrollStart",h,this.currentPage)}("slider"===this.options.role||"tab"===this.options.role)&&(30>f?this.scrollTo(-this.itemWidth*this.currentPage,0,this.options.bounceTime,this.options.bounceEasing):o-this.startX<0?(this._execEvent("beforeScrollStart",this.currentPage,this.currentPage+1),this.scrollTo(-this.itemWidth*++this.currentPage,0,this.options.bounceTime,this.options.bounceEasing)):o-this.startX>=0&&(this._execEvent("beforeScrollStart",this.currentPage,this.currentPage-1),this.scrollTo(-this.itemWidth*--this.currentPage,0,this.options.bounceTime,this.options.bounceEasing)),"tab"===this.options.role&&e(this.scroller.children[this.currentPage]).siblings("li").height(0),this.indicator&&f>=30?(e(this.indicator).children().removeClass("current"),e(this.indicator.children[this.currentPage]).addClass("current")):this.nav&&f>=30&&(e(this.nav).children().removeClass("current"),e(this.nav.children[this.currentPage]).addClass("current")),e(this.scroller).children().removeClass("current"),e(this.scroller.children[this.currentPage]).addClass("current"))}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd",this.currentPage)))},destroy:function(){this._initEvents(!0)},resetPosition:function(e){var t=this.x,n=this.y;return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),t==this.x&&n==this.y?!1:(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t);n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;n>t;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollTo:function(e,t,n,i){i=i||r.ease.circular,this.isInTransition=this.options.useTransition&&n>0,!n||this.options.useTransition&&i.style?(("slider"===this.options.role||"tab"===this.options.role)&&(n=this.options.duration,this.scrollerStyle[r.style.transitionProperty]=r.style.transform),this.scrollerStyle[r.style.transitionTimingFunction]=i.style,this._transitionTime(n),this._translate(e,t)):this._animate(e,t,n,i.fn)},scrollToElement:function(e,t,n,i,s){if(e=e.nodeType?e:this.scroller.querySelector(e)){var o=r.offset(e);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,n===!0&&(n=Math.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),i===!0&&(i=Math.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=n||0,o.top-=i||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,t=void 0===t||null===t||"auto"===t?Math.max(Math.abs(this.x-o.left),Math.abs(this.y-o.top)):t,this.scrollTo(o.left,o.top,t,s)}},_transitionTime:function(e){e=e||0,this.scrollerStyle[r.style.transitionDuration]=e+"ms",!e&&r.isBadAndroid&&(this.scrollerStyle[r.style.transitionDuration]="0.001s")},_translate:function(e,t){this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=Math.round(e),t=Math.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t},getComputedPosition:function(){var e,t,n=window.getComputedStyle(this.scroller,null);return this.options.useTransform?(n=n[r.style.transform].split(")")[0].split(", "),e=+(n[12]||n[4]),t=+(n[13]||n[5])):(e=+n.left.replace(/[^-\d.]/g,""),t=+n.top.replace(/[^-\d.]/g,"")),{x:e,y:t}},_animate:function(e,t,i,s){function o(){var p,v,m,y=r.getTime();return y>=h?(u.isAnimating=!1,u._translate(e,t),void (u.resetPosition(u.options.bounceTime)||u._execEvent("scrollEnd",this.currentPage))):(y=(y-l)/i,m=s(y),p=(e-a)*m+a,v=(t-f)*m+f,u._translate(p,v),void (u.isAnimating&&n(o)))}var u=this,a=this.x,f=this.y,l=r.getTime(),h=l+i;this.isAnimating=!0,o()},_autoplay:function(){var t=this,n=t.currentPage;t.currentPage=t.currentPage>=t.count-1?0:++t.currentPage,t._execEvent("beforeScrollStart",n,t.currentPage),"tab"===this.options.role&&(e(this.scroller).children().height("auto"),document.body.scrollTop=0),t.scrollTo(-t.itemWidth*t.currentPage,0,t.options.bounceTime,t.options.bounceEasing),t.indicator?(e(t.indicator).children().removeClass("current"),e(t.indicator.children[t.currentPage]).addClass("current"),e(t.scroller).children().removeClass("current"),e(t.scroller.children[t.currentPage]).addClass("current")):t.nav&&(e(t.nav).children().removeClass("current"),e(t.nav.children[t.currentPage]).addClass("current"),e(t.scroller).children().removeClass("current"),e(t.scroller.children[t.currentPage]).addClass("current")),t.options.flag=setTimeout(function(){t._autoplay.apply(t)},t.options.interval)}},window.fz=window.fz||{},window.frozen=window.frozen||{},window.fz.Scroll=window.frozen.Scroll=t,"function"==typeof define&&define(function(e,n,r){r.exports=t})}(window.Zepto);if("undefined"==typeof Zepto)throw new Error("Parallax.js's script requires Zepto");!function(e){"use strict";function t(){S.loading?e(".wrapper").append('<div class="parallax-loading"><i class="ui-loading ui-loading-white"></i></div>'):T=!1,v=0,d="stay",m=w.length,g=e(window).width(),y=e(window).height(),E=e("[data-animation]");for(var t=0;m>t;t++)e(w[t]).attr("data-id",t+1);b.addClass(S.direction).addClass(S.swipeAnim),w.css({width:g+"px",height:y+"px"}),"horizontal"===S.direction?b.css("width",g*w.length):b.css("height",y*w.length),"cover"===S.swipeAnim&&(b.css({width:g,height:y}),w[0].style.display="block"),S.loading||(e(w[v]).addClass("current"),S.onchange(v,w[v],d),f())}function n(e){return T===!0?(event.preventDefault(),!1):(x=!0,l="horizontal"===S.direction?e.pageX:e.pageY,"default"===S.swipeAnim&&(b.addClass("drag"),p=b.css("-webkit-transform").replace("matrix(","").replace(")","").split(","),p=parseInt("horizontal"===S.direction?p[4]:p[5])),"cover"===S.swipeAnim&&S.drag&&w.addClass("drag"),void (h=1))}function r(e){return T===!0||x===!1?(event.preventDefault(),!1):(event.preventDefault(),c="horizontal"===S.direction?e.pageX:e.pageY,u(),S.drag&&!a()&&s(),void (h=2))}function i(t){T===!0||2!==h||(x=!1,c="horizontal"===S.direction?t.pageX:t.pageY,"default"!==S.swipeAnim||a()?"cover"!==S.swipeAnim||a()||(Math.abs(c-l)<=50&&c>=l&&S.drag?(o(v,"keep-backward"),d="stay"):Math.abs(c-l)<=50&&l>c&&S.drag?(o(v,"keep-forward"),d="stay"):Math.abs(c-l)>50&&c>=l&&S.drag?(o(v-1,"backward"),d="backward"):Math.abs(c-l)>50&&l>c&&S.drag?(o(v+1,"forward"),d="forward"):Math.abs(c-l)>50&&c>=l&&!S.drag?(o(v-1,"backward"),d="backward"):Math.abs(c-l)>50&&l>c&&!S.drag&&(o(v+1,"forward"),d="forward")):(b.removeClass("drag"),Math.abs(c-l)<=50?(o(v),d="stay"):c>=l?(o(v-1),d="backward"):l>c&&(o(v+1),d="forward")),S.indicator&&e(e(".parallax-h-indicator ul li, .parallax-v-indicator ul li").removeClass("current").get(v)).addClass("current"),h=3)}function s(){if("default"===S.swipeAnim){var t=p+c-l;"horizontal"===S.direction?b.css("-webkit-transform","matrix(1, 0, 0, 1, "+t+", 0)"):b.css("-webkit-transform","matrix(1, 0, 0, 1, 0, "+t+")")}else if("cover"===S.swipeAnim){var t=c-l,n=e(w[v-1]),r=e(w[v+1]);e(w).css({"z-index":0}),"horizontal"===S.direction&&c>=l?n.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(t-g)+"px)"}):"horizontal"===S.direction&&l>c?r.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(g+t)+"px)"}):"vertical"===S.direction&&c>=l?n.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(t-y)+"px)"}):"vertical"===S.direction&&l>c&&r.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(y+t)+"px)"})}}function o(t,n){if(v=t,"default"===S.swipeAnim){var r=0;r="horizontal"===S.direction?t*-g:t*-y,b.css("horizontal"===S.direction?{"-webkit-transform":"matrix(1, 0, 0, 1, "+r+", 0)"}:{"-webkit-transform":"matrix(1, 0, 0, 1, 0, "+r+")"})}else"cover"===S.swipeAnim&&("keep-backward"===n&&S.drag?(w.removeClass("drag"),e(w[v-1]).css("horizontal"===S.direction?{"-webkit-transform":"translateX(-100%)"}:{"-webkit-transform":"translateY(-100%)"})):"keep-forward"===n&&S.drag?(w.removeClass("drag"),e(w[v+1]).css("horizontal"===S.direction?{"-webkit-transform":"translateX(100%)"}:{"-webkit-transform":"translateY(100%)"})):"forward"===n&&S.drag?(w.removeClass("drag"),e(w[v-1]).addClass("back"),w[v].style.webkitTransform="translate(0, 0)"):"backward"===n&&S.drag?(w.removeClass("drag"),e(w[v+1]).addClass("back"),w[v].style.webkitTransform="translate(0, 0)"):"forward"!==n||S.drag?"backward"!==n||S.drag||(b.addClass("animate"),e(w[v+1]).addClass("back"),e(w[v]).addClass("front").show()):(b.addClass("animate"),e(w[v-1]).addClass("back"),e(w[v]).addClass("front").show()));T=!0,setTimeout(function(){T=!1},300)}function u(){"horizontal"===S.direction?c>=l?b.removeClass("forward").addClass("backward"):l>c&&b.removeClass("backward").addClass("forward"):c>=l?b.removeClass("forward").addClass("backward"):l>c&&b.removeClass("backward").addClass("forward")}function a(){if("horizontal"===S.direction){if(c>=l&&0===v||l>=c&&v===m-1)return!0}else if(c>=l&&0===v||l>=c&&v===m-1)return!0;return!1}function f(){E.css({"-webkit-animation":"none"}),e(".current [data-animation]").each(function(t,n){var r=e(n),i=r.attr("data-animation"),s=r.attr("data-duration")||500,o=r.attr("data-timing-function")||"ease",u=r.attr("data-delay")?r.attr("data-delay"):0;"followSlide"===i&&("horizontal"===S.direction&&"forward"===d?i="followSlideToLeft":"horizontal"===S.direction&&"backward"===d?i="followSlideToRight":"vertical"===S.direction&&"forward"===d?i="followSlideToTop":"vertical"===S.direction&&"backward"===d&&(i="followSlideToBottom")),r.css({"-webkit-animation":i+" "+s+"ms "+o+" "+u+"ms both",animation:i+" "+s+"ms "+o+" "+u+"ms both"})})}var l,c,h,p,d,v,m,g,y,b,w,E,S,x=!1,T=!0;e.fn.parallax=function(n){return S=e.extend({},e.fn.parallax.defaults,n),this.each(function(){b=e(this),w=b.find(".page"),t()})},e.fn.parallax.defaults={direction:"vertical",swipeAnim:"default",drag:!0,loading:!1,indicator:!1,arrow:!1,onchange:function(){},orientationchange:function(){}},e(document).on("touchstart",".page",function(e){n(e.changedTouches[0])}).on("touchmove",".page",function(e){r(e.changedTouches[0])}).on("touchend",".page",function(e){i(e.changedTouches[0])}).on("webkitAnimationEnd webkitTransitionEnd",".pages",function(){"stay"!==d&&(setTimeout(function(){e(".back").hide().removeClass("back"),e(".front").show().removeClass("front"),b.removeClass("forward backward animate")},10),e(w.removeClass("current").get(v)).addClass("current"),S.onchange(v,w[v],d),f())}),e(".page *").on("webkitAnimationEnd",function(){event.stopPropagation()}),e(window).on("load",function(){if(S.loading&&(e(".parallax-loading").remove(),T=!1,e(w[v]).addClass("current"),S.onchange(v,w[v],d),f()),S.indicator){T=!1;var t="horizontal"===S.direction?"parallax-h-indicator":"parallax-v-indicator";e(".wrapper").append("<div class="+t+"></div>");for(var n="<ul>",r=1;m>=r;r++)n+=1===r?'<li class="current">'+r+"</li>":"<li>"+r+"</li>";n+="</ul>",e("."+t).append(n)}S.arrow&&(w.append('<span class="parallax-arrow"></span>'),e(w[m-1]).find(".parallax-arrow").remove())}),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",function(){(180===window.orientation||0===window.orientation)&&S.orientationchange("portrait"),(90===window.orientation||-90===window.orientation)&&S.orientationchange("landscape")},!1)}(Zepto);
